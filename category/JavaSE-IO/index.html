<!-- build time:Thu Sep 19 2019 17:10:55 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta name="google-site-verification" content="EmMIJLWJtXQxrrJkM-F8VfTiJjK7ASyFu9OBx-ZlSRo"><meta name="baidu-site-verification" content="XVGOi3sgWa"><script></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="baidu-site-verification" content="Kljn7UFZcB"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="java入门,JavaSE基础语法,IO流"><link rel="alternate" href="/atom.xml" title="余生梦见皆是缘" type="application/atom+xml"><meta name="description" content="JavaSE-IO流详解"><meta name="keywords" content="java入门,JavaSE基础语法,IO流"><meta property="og:type" content="article"><meta property="og:title" content="JavaSE-IO流"><meta property="og:url" content="https://www.ysmjjsy.com/category/JavaSE-IO/index.html"><meta property="og:site_name" content="余生梦见皆是缘"><meta property="og:description" content="JavaSE-IO流详解"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/dig.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/dig2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/io.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/in1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/f.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/o1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/o2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/byte.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/bm.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/b.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/inout.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/reader.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/writer.png"><meta property="og:updated_time" content="2019-09-12T07:28:19.656Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="JavaSE-IO流"><meta name="twitter:description" content="JavaSE-IO流详解"><meta name="twitter:image" content="https://www.ysmjjsy.com/category/JavaSE-IO/dig.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!0,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://www.ysmjjsy.com/category/JavaSE-IO/"><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"6e2c9585"}),daovoice("update")</script><title>JavaSE-IO流 | 余生梦见皆是缘</title><script>!function(e,t,a,n,c,s,o){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,s=t.createElement(a),o=t.getElementsByTagName(a)[0],s.async=1,s.src=n,o.parentNode.insertBefore(s,o)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-145122509-1","auto"),ga("send","pageview")</script><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?45ce68cbde829747ea3eed77723e1cf4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><a href="https://github.com/GoyaDo" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="https://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">余生梦见皆是缘</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archives"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://www.ysmjjsy.com/category/JavaSE-IO/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Goya"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="余生梦见皆是缘"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">JavaSE-IO流</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-25T00:00:00+08:00">2017-08-25 </time><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于&#58;</span> <time title="更新于" itemprop="dateModified" datetime="2019-09-12T15:28:19+08:00">2019-09-12 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/JavaSE/" itemprop="url" rel="index"><span itemprop="name">JavaSE</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/JavaSE/JavaSE流/" itemprop="url" rel="index"><span itemprop="name">JavaSE流</span> </a></span></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a href="/category/JavaSE-IO/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/category/JavaSE-IO/" itemprop="commentCount"></span> </a></span><span class="post-meta-divider">|</span> <span class="page-pv"><i class="fa fa-file-o"></i> <span class="busuanzi-value" id="busuanzi_value_page_pv"></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">16.8k 字 </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">72 分钟</span></div><div class="post-description">JavaSE-IO流详解</div></div></header><div class="post-body" itemprop="articleBody"><h1 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h1><p>我们要想实现IO的操作，就必须知道硬盘上文件的表现形式</p><p>而Java提供了一个类File供我们使用</p><p>File：文件和目录（文件夹）路径名的抽象表示形式</p><h2 id="构造方法："><a href="#构造方法：" class="headerlink" title="构造方法："></a>构造方法：</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">File(String pathname);<span class="comment">//根据一个路径得到File对象</span></span><br><span class="line">File(String parent,String child);<span class="comment">//根据一个目录和一个子文件/目录得到File对象</span></span><br><span class="line">File(File parent,String child);<span class="comment">//根据一个父File对象和一个子文件/目录得到File对象</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileDemo</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">"E:\\demo\\a.txt"</span>);</span><br><span class="line">    File file2 = <span class="keyword">new</span> File(<span class="string">"E:\\demo"</span>,<span class="string">"a.txt"</span>);</span><br><span class="line">    File file3 = <span class="keyword">new</span> File(<span class="string">"E:\\demo"</span>);</span><br><span class="line">    File file4 = <span class="keyword">new</span> File(file3,<span class="string">"a.txt"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="File类的方法"><a href="#File类的方法" class="headerlink" title="File类的方法"></a>File类的方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建功能</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">createNewFile</span><span class="params">()</span></span>;<span class="comment">//创建文件，如果存在这样的文件，就不创建了</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">mkdir</span><span class="params">()</span></span>;<span class="comment">//创建文件夹，如果存在这样的文件，就不创建了</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">mkdirs</span><span class="params">()</span></span>;<span class="comment">//创建文件夹，如果父文件夹不存在，会帮你创建出来</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//删除功能</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">delete</span><span class="params">()</span></span>;</span><br><span class="line"><span class="comment">//如果创建文件或则文件夹忘了写盘符路径，默认在项目路径下</span></span><br><span class="line"><span class="comment">//Java中的删除不走回收站</span></span><br><span class="line"><span class="comment">//要删除一个文件夹，请注意该文件夹内不能包含文件或者文件夹</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//重命名功能</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">renameTo</span><span class="params">(File dest)</span></span>;</span><br><span class="line"><span class="comment">//如果路径名相同，就是改名</span></span><br><span class="line"><span class="comment">//如果路径名不同，就是改名并剪切</span></span><br><span class="line"><span class="comment">//路径以盘符开始：绝对路径 C:\\a.txt</span></span><br><span class="line"><span class="comment">//路径不以盘符开始：相对路径 a.txt</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//判断功能</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isDirectory</span><span class="params">()</span></span>;<span class="comment">//判断是否是目录</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isFile</span><span class="params">()</span></span>;<span class="comment">//判断是否是文件</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">exists</span><span class="params">()</span></span>;<span class="comment">//判断是否存在</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canRead</span><span class="params">()</span></span>;<span class="comment">//判断是否可读</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canWrite</span><span class="params">()</span></span>;<span class="comment">//判断是否可写</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isHidden</span><span class="params">()</span></span>;<span class="comment">//判断是否隐藏</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//获取功能</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getAbsolutePath</span><span class="params">()</span></span>;<span class="comment">//获取绝对路径</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getPath</span><span class="params">()</span></span>;<span class="comment">//获取相对路径</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>;<span class="comment">//获取名称</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">length</span><span class="params">()</span></span>;<span class="comment">//获取长度，字节数</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">long</span> <span class="title">lastModified</span><span class="params">()</span></span>;<span class="comment">//获取最后一次的修改时间，毫秒值</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> String[] list();<span class="comment">//获取指定目录下的所有文件或者文件夹的名称数组</span></span><br><span class="line"><span class="keyword">public</span> File[] listFiles();<span class="comment">//获取指定目录下的所有文件或者文件夹的File数组</span></span><br><span class="line"><span class="comment">//要想实现这个效果，就必须学习一个接口：文件过滤器</span></span><br><span class="line"><span class="keyword">public</span> String[] list(FilenameFilter filter);</span><br><span class="line"><span class="keyword">public</span> File[] listFiles(FilenameFilter filter);</span><br></pre></td></tr></table></figure><h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><p>方法定义中调用方法本身的现象</p><p>程序调用自身的编程技巧称为递归（ recursion）。递归做为一种算法在程序设计语言中广泛应用。 一个过程或函数在其定义或说明中有直接或间接调；</p><p>用自身的一种方法，它通常把一个大型复杂的问题层层转化为一个与原问题相似的规模较小的问题来求解，递归策略只需少量的程序就可描述出解题过；</p><p>程所需要的多次重复计算，大大地减少了程序的代码量。递归的能力在于用有限的语句来定义对象的无限集合。递归是一种应用非常广泛的算法（或者编程技巧）。递归求解问题的分解过程，去的过程叫“递”，回来的过程叫“归”。</p><p>递归需要满足的三个条件：1. 一个问题的解可以分解为几个子问题的解；2. 这个问题与分解之后的子问题，除了数据规模不同，求解思路完全一样；3. 存在递归终止条件。</p><h3 id="递归的三个条件："><a href="#递归的三个条件：" class="headerlink" title="递归的三个条件："></a><strong>递归的三个条件：</strong></h3><ol><li>边界条件</li><li>递归前进段</li><li>递归返回段</li></ol><p><strong>当边界条件不满足时，递归前进；当边界条件满足时，递归返回。</strong></p><h3 id="递归注意实现"><a href="#递归注意实现" class="headerlink" title="递归注意实现"></a>递归注意实现</h3><p>要有出口，否则就是死递归</p><p>次数不能太多，否则就内存溢出</p><p>构造方法不能递归使用</p><h3 id="递归5的阶乘"><a href="#递归5的阶乘" class="headerlink" title="递归5的阶乘"></a>递归5的阶乘</h3><p><img src="/category/JavaSE-IO/dig.png" alt="递归5的阶乘"></p><p><img src="/category/JavaSE-IO/dig2.png" alt="递归5的阶乘"></p><h3 id="递归问题"><a href="#递归问题" class="headerlink" title="递归问题"></a>递归问题</h3><p><strong>问题：N级台阶（比如100级），每次可走1步或者2步，求总共有多少种走法？</strong></p><p>分析：如果有大于2级的n级台阶，那么假如第一次跳一级台阶，剩下还有n-1级台阶，有f(n-1)种跳法，假如第一次条2级台阶，剩下n-2级台阶，有f(n-2)种跳法。这就表示f(n)=f(n-1)+f(n-2)，即斐波那契数列。假设只有一个台阶，那么只有一种跳法，那就是一次跳一级，f(1)=1；如果有两个台阶，那么有两种跳法，第一种跳法是一次跳一级，第二种跳法是一次跳两级，f(2)=2。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//费波纳契数列变形，求n个台阶的走法，递归方式</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(n&lt;=<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> f(n-<span class="number">1</span>)+f(n+<span class="number">2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>编写递归代码的关键是，只要遇到递归，我们就把它抽象成一个递推公式，不用想一层层的调用关系，不要试图用人脑去分解递归的每个步骤。</p><p><strong>递归代码要警惕重复计算</strong></p><p>为了避免重复计算，我们可以通过一个数据结构（比如散列表）来保存已经求解过的 f(k)。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//费波纳契数列变形，求n个台阶的走法，递归方式</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">  <span class="comment">//新建一个HashMap，用来保存已经求过的f(n)，避免重复计算</span></span><br><span class="line">  HashMap&lt;Integer,Integer&gt; hashMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">  <span class="keyword">if</span>(n&lt;=<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//求f(n)时，先判断map中是否已经存在，如果存在直接取值</span></span><br><span class="line">  <span class="keyword">if</span>(hashMap.containsKey(n))&#123;</span><br><span class="line">    <span class="keyword">return</span> hashMap.get(n);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> ret = f(n-<span class="number">1</span>)+f(n+<span class="number">2</span>);</span><br><span class="line">  hashMap.put(n,ret);<span class="comment">//将f(n)存进map中</span></span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>递归代码要警惕堆栈溢出</strong></p><p>我们可以通过在代码中限制递归调用的最大深度的方式来解决这个问题，递归调用超过一定深度（比如 1000）之后，我们就不继续往下再递归了，直接抛出异常。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> depth = <span class="number">0</span>;<span class="comment">//全局变量，表示递归的深度</span></span><br><span class="line"><span class="comment">//费波纳契数列变形，求n个台阶的走法，递归方式</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">  ++depth;</span><br><span class="line">  <span class="keyword">if</span>(depth&gt;<span class="number">1000</span>)&#123;</span><br><span class="line">    System.out.println(<span class="string">"超过设定深度了"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//新建一个HashMap，用来保存已经求过的f(n)，避免重复计算</span></span><br><span class="line">  HashMap&lt;Integer,Integer&gt; hashMap = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">  <span class="keyword">if</span>(n&lt;=<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//求f(n)时，先判断map中是否已经存在，如果存在直接取值</span></span><br><span class="line">  <span class="keyword">if</span>(hashMap.containsKey(n))&#123;</span><br><span class="line">    <span class="keyword">return</span> hashMap.get(n);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> ret = f(n-<span class="number">1</span>)+f(n+<span class="number">2</span>);</span><br><span class="line">  hashMap.put(n,ret);<span class="comment">//将f(n)存进map中</span></span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>怎么将递归代码改写为非递归代码？</strong></p><p>递归本身就是借助栈来实现的，如果我们自己在内存堆上实现栈，手动模拟入栈、出栈过程，便可以将递归改成非递归。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//费波纳契数列变形，求n个台阶的走法，非递归方式</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">f</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">  <span class="comment">//n = 1或n = 2,直接返回f(1) = 1,f(2) = 2</span></span><br><span class="line">  <span class="keyword">if</span>(n&lt;<span class="number">2</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">int</span> ret = <span class="number">0</span>;<span class="comment">//ret中存储的结果f(n)</span></span><br><span class="line">  <span class="keyword">int</span> prepre = <span class="number">1</span>;<span class="comment">//prepre存储的值是f(n-2),初始值是f(1)=1</span></span><br><span class="line">  <span class="keyword">int</span> pre = <span class="number">2</span>;<span class="comment">//pre存储的值是f(n-1),f(2)=2</span></span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">3</span>;i&lt;n;i++)&#123;</span><br><span class="line">    <span class="comment">//手动模拟栈的过程</span></span><br><span class="line">    ret = prepre + pre;</span><br><span class="line">    prepre = pre;</span><br><span class="line">    pre = pre;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>递归:文件目录</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 任务：计算一个文件夹大小：累加文件的大小</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> gyf</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//递归:文件目录</span></span><br><span class="line">        <span class="comment">/**打印出a目录所有文件名称，包括子文件夹的文件*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.创建目录对象</span></span><br><span class="line">        File dir = <span class="keyword">new</span> File(<span class="string">"C:/Users/10301/Desktop/a"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.打印目录的子文件</span></span><br><span class="line">        printSubFile(dir);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printSubFile</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">        <span class="comment">//打印目录的子文件</span></span><br><span class="line">        File[] subfiles = dir.listFiles();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(File f : subfiles)&#123;</span><br><span class="line">            <span class="keyword">if</span>(f.isDirectory())&#123;<span class="comment">//文件夹</span></span><br><span class="line">                printSubFile(f);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;<span class="comment">//文件</span></span><br><span class="line">                System.out.println(f.getAbsolutePath());</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>练习:从键盘输入接收一个文件夹路径,打印出该文件夹下所有的.jpg文件名</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="comment">//练习:从键盘输入接收一个文件夹路径,打印出该文件夹下所有的.jpg文件名</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.获取文件路径</span></span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">"请输入一个文件夹路径..."</span>);</span><br><span class="line">        String path = scanner.nextLine();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.把路径封装成File对象</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(path);</span><br><span class="line">        <span class="keyword">if</span>(!file.exists())&#123;</span><br><span class="line">            System.out.println(<span class="string">"此路径对应的文件不存在"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(!file.isDirectory())&#123;</span><br><span class="line">            System.out.println(<span class="string">"请输入文件夹路径，而不文件路径"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.遍历文件夹下的子文件</span></span><br><span class="line">        printSubFile(file);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printSubFile</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">        <span class="comment">//打印目录的子文件</span></span><br><span class="line">        File[] subfiles = dir.listFiles();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(File f : subfiles)&#123;</span><br><span class="line">            <span class="keyword">if</span>(f.isDirectory())&#123;<span class="comment">//文件夹</span></span><br><span class="line">                printSubFile(f);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;<span class="comment">//文件</span></span><br><span class="line">                <span class="keyword">if</span>(f.getName().endsWith(<span class="string">".jpg"</span>))&#123;</span><br><span class="line">                    System.out.println(f.getAbsolutePath());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h1><p><img src="/category/JavaSE-IO/io.png" alt="IO流"></p><p>IO流用来处理设备之间的数据传输,Java对数据的操作是通过流的方式<br>Java用于操作流的类都在IO包中，上传文件和下载文件</p><p>Java对数据的操作是通过流的方式</p><p>Java用于操作流的对象都在IO包中</p><p>Stream是java的一个类，专门用于处理程序个外部设备的输入输出（简称IO），这里的外部设备可以是文件、键盘或者网络。基本所有的流都在这个包中。实际上流就是数据在程序和外部设备之间的管道，而类的方法则是管道上的各种按钮。</p><p><strong>所以为什么需要流呢？</strong></p><p>在数据量很大的情况下，节省时间<br>内存有限，需要“分时分步”进行传输<br>带宽有限<br>而stream可以分次传输数据，一点一点传，这就是Stream存在的意义。这里可以参照腾X的下载软件，每次下载一个文件都是在本地建一个cache文件，然后把文件分成很多个部分缓存到本地，等缓存完毕再以.qlv形式的文件保存在硬盘中。</p><p><strong>流的重要性：</strong></p><p>流是java的一个类，但类并不是流<br>流是单向的，要么input，要么output。<br>流不会改变原数据，也不能存储数据<br>Java的Stream有很多个子类，可以划分为若干类</p><p><strong>按流向分为两种：</strong></p><p>输入流（读取数据）<br>输出流（写数据）</p><p>Java流的传输只有一个方向，所以我们把从外部设备流向程序的数据流称为输入流。</p><p>反之，把程序数据流向外部设备的流称为输出流。</p><p><strong>流按操作类型分为两种</strong>:</p><p>字节流 : 字节流可以操作任何数据,因为在计算机中任何数据都是以字节的形式存储的<br>字符流 : 字符流只能操作纯字符数据，比较方便。</p><h2 id="四大基本Stream"><a href="#四大基本Stream" class="headerlink" title="四大基本Stream"></a>四大基本Stream</h2><p>Java流有很多种，但是基本都是继承自四个基本流（<em>这四个类是抽象类，不能直接实例化new</em>）：</p><ul><li>InputStream：输入字节流</li><li>OutputStream：输出字节流</li><li>Reader：输入字符流</li><li>Writer：输出字符流</li></ul><h3 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h3><p>字节流以字节（8bit）为单位，字节流能处理所有类型的数据（如图片、avi等）</p><h4 id="InputStream"><a href="#InputStream" class="headerlink" title="InputStream"></a>InputStream</h4><p><img src="/category/JavaSE-IO/in1.png" alt="InputStream"></p><p>字节输入流</p><ol><li>InputStream 是所有的输入字节流的父类，它是一个抽象类。用来读取数据。</li><li>ByteArrayInputStream、StringBufferInputStream、FileInputStream 是三种基本的介质流，它们分别从Byte 数组、StringBuffer、和本地文件中读取数据。</li><li>ObjectInputStream 和所有FilterInputStream 的子类都是装饰流（装饰器模式的主角）</li></ol><p><strong>字节输入流操作步骤:</strong></p><p>创建字节输出流对象</p><p>调用read()方法读取数据，并把数据显示在控制台</p><p>释放资源</p><p><strong>计算机如何识别什么时候把两个字节转换为一个中文？</strong></p><p>第一个字节肯定是负数</p><p>第二个字节常见的是负数，可能有正数</p><p>当看到负数就把两个字节拼在一起</p><h5 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h5><p><strong>文件输入流</strong></p><p>FileInputStream 从文件系统中的某个文件中获得输入字节。FileInputStream 用于读取诸如图像数据之类的原始字节流。要读取字符流，请考虑使用 FileReader</p><p><strong>构造方法：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">FileInputStream(File file)</span><br><span class="line">FileInputStream(String name)</span><br></pre></td></tr></table></figure><p><strong>成员方法：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span> 从此输入流中读取一个数据字节。</span></span><br></pre></td></tr></table></figure><p><strong>案例:读取一个txt文件数据(方法一)</strong></p><ul><li>1.FileInputStream用于读取文件数据，在构造方法中传入文件对象</li></ul><ul><li>2.构造方法，有可能抛出文件找不到的异常</li></ul><ul><li>3.read方法是每次读取一个字节的数据,把字节转成int返回<ul><li>读取数据也会抛出异常，比如突然文件某部份数据损坏了</li><li>读取的数据是文件编码的表值(ascii,GBK,unicode)</li><li>ascii是包含在GBK或者unicode中的</li><li>如果读取数据到最后，会返回一个-1（代表读完数据了）</li></ul></li></ul><ul><li>4.文件不用后，要关闭输入流，避免占用资源</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 读取txt文件内容</span></span><br><span class="line"><span class="comment"> * 1.通过FileInputStream来读取txt文件内容</span></span><br><span class="line"><span class="comment"> * 2.读取内容通过read方法，</span></span><br><span class="line"><span class="comment"> *   》read方法每次读文件1个字节(byte),把byte转成int返回</span></span><br><span class="line"><span class="comment">      》当读到后的时候，返回-1，-1表示读取文件结束</span></span><br><span class="line"><span class="comment">   3.当读完文件后，这个输入流要关闭，释放资源</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//FileNotFoundException fnfe;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//案例：读取txt文件内容</span></span><br><span class="line">        <span class="comment">//1.创建一个文件对象</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">"a.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.创建一个文件输入流【读取文件数据】对象</span></span><br><span class="line">        FileInputStream fis1 = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//再创建一个文件输入 流对象 </span></span><br><span class="line">        FileInputStream fis2 = <span class="keyword">new</span> FileInputStream(<span class="string">"b.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.读取a.txt的数据</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1.read方法每次读文件1个字节(byte),把byte转成int返回</span></span><br><span class="line"><span class="comment">         * 2.当读到后的时候，返回-1，-1读取文件结束</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(fis1.read());</span><br><span class="line">        System.out.println(fis1.read());</span><br><span class="line">        System.out.println(fis1.read());</span><br><span class="line">        System.out.println(fis1.read());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关闭流</span></span><br><span class="line">        fis1.close();</span><br><span class="line">        fis2.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>案例:读取一个txt文件数据(方法二)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建一个文件对象</span></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">"abc.txt"</span>);</span><br><span class="line">System.out.println(file.getAbsolutePath());</span><br><span class="line">                </span><br><span class="line"><span class="comment">//2.创建一个文件输入流</span></span><br><span class="line">FileInputStream inputStream = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">        </span><br><span class="line"><span class="keyword">int</span> b;</span><br><span class="line"><span class="comment">//while循环里，每次读取字节赋值给b</span></span><br><span class="line"><span class="keyword">while</span>((b = inputStream.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">System.out.println(b);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>面试题:read()方法读取的是一个字节,为什么返回是int,而不是byte ？</strong></p><blockquote><p>因为字节输入流可以操作任意类型的文件,比如图片音频等,这些文件底层都是以二进制形式的存储的,如果每次读取都返回byte,有可能在读到中间的时候遇到111111111 那么这11111111是byte类型的-1,我们的程序是遇到-1就会停止不读了,后面的数据就读不到了,所以在读取的时候用int类型接收,如果11111111会在其前面补上 24个0凑足4个字节,那么byte类型的-1就变成int类型的255了这样可以保证整个数据读完,而结束标记的-1就是int类型</p></blockquote><p><img src="/category/JavaSE-IO/f.png" alt="F"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//面试题:read()方法读取的是一个字节,为什么返回是int,而不是byte ？</span></span><br><span class="line">        <span class="comment">//如果使用FileInputStream读取图片数据</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 00010111 00010111 00010111 00010111</span></span><br><span class="line"><span class="comment">         * 00010111 11111111 00010111 00010111</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * byte:11111111 表示的-1</span></span><br><span class="line"><span class="comment">         * int:00000000 00000000 00000000 11111111  byte转成int 补0 了不是-1   因此往后读数据</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 为什么11111111是表示-1？</span></span><br><span class="line"><span class="comment">         * 因为计算机是以补码的方式计算</span></span><br><span class="line"><span class="comment">         * 补码： 11111111 （-1）</span></span><br><span class="line"><span class="comment">         * 反码： 11111110</span></span><br><span class="line"><span class="comment">         * 原码:  10000001</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 假如使用FileInputStream读取图片的时候，</span></span><br><span class="line"><span class="comment">         * 图片中间有一段数据刚好是 11111111，这八个一表示的-1，用byte接收</span></span><br><span class="line"><span class="comment">         * java程序如果读取的是-1，后面的数据就不读取</span></span><br><span class="line"><span class="comment">         * 如果把8个1转成int,那就是00000000 00000000 00000000 11111111,这个表示255，</span></span><br><span class="line"><span class="comment">         * 就不是-1，归避后面数据没有读取问题</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="DataInputSteam"><a href="#DataInputSteam" class="headerlink" title="DataInputSteam"></a>DataInputSteam</h5><p>数据输入流</p><p>操作基本数据类型</p><h5 id="ByteArrayInputStream"><a href="#ByteArrayInputStream" class="headerlink" title="ByteArrayInputStream"></a>ByteArrayInputStream</h5><p>内存输入流</p><p>操作字节数组</p><h5 id="SequenceInputStream-序列流"><a href="#SequenceInputStream-序列流" class="headerlink" title="SequenceInputStream 序列流"></a>SequenceInputStream 序列流</h5><p><strong>什么是序列流</strong></p><blockquote><p>序列流可以把多个字节输入流整合成一个, 从序列流中读取数据时, 将从被整合的第一个流开始读, 读完一个之后继续读第二个, 以此类推.</p></blockquote><p>案例：使用字节流把两个件数据写到另一个文件</p><p>案例：使用序列流把两个件数据写到另一个文件</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.SequenceInputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//SequenceInputStream 序列流</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * InputStream:输入流</span></span><br><span class="line"><span class="comment">         * Sequence:序列 连续</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 序列流可以把多个字节输入流整合成一个, 从序列流中读取数据时, </span></span><br><span class="line"><span class="comment">         * 将从被整合的第一个流开始读, 读完一个之后继续读第二个, 以此类推.</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        test2();</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//需求：a.txt,b.txt 依次写c.txt</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//创建序列流</span></span><br><span class="line">        FileInputStream fis1 = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        FileInputStream fis2 = <span class="keyword">new</span> FileInputStream(<span class="string">"b.txt"</span>);</span><br><span class="line">        SequenceInputStream sis = <span class="keyword">new</span> SequenceInputStream(fis1, fis2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//创建输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//读写 </span></span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((b = sis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(b);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        fis2.close();</span><br><span class="line">        sis.close();</span><br><span class="line">        fos.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//需求：a.txt,b.txt 依次写c.txt</span></span><br><span class="line">        <span class="comment">//1.创建两个输入流</span></span><br><span class="line">        FileInputStream fis1 = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        FileInputStream fis2 = <span class="keyword">new</span> FileInputStream(<span class="string">"b.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.创建一个输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.先把a文件的内容写到c.txt</span></span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((b=fis1.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(b);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        fos.write(<span class="string">"\r\n"</span>.getBytes());<span class="comment">//换行</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.再把b文件内容写到c.txt</span></span><br><span class="line">        <span class="keyword">while</span>((b=fis2.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(b);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//5.关流</span></span><br><span class="line">        fis1.close();</span><br><span class="line">        fis2.close();</span><br><span class="line">        fos.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>序列流整合多个字节流（了解）</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.SequenceInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//SequenceInputStream序列流使用二</span></span><br><span class="line">        <span class="comment">//需求，把a.txt b.txt c.txt 的内容拷贝到d.txt</span></span><br><span class="line">        <span class="comment">//1.Vector是集合</span></span><br><span class="line">        Vector&lt;InputStream&gt; vector = <span class="keyword">new</span> Vector&lt;InputStream&gt;();</span><br><span class="line">        vector.add(<span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>));</span><br><span class="line">        vector.add(<span class="keyword">new</span> FileInputStream(<span class="string">"b.txt"</span>));</span><br><span class="line">        vector.add(<span class="keyword">new</span> FileInputStream(<span class="string">"c.txt"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.Enumeration枚举</span></span><br><span class="line">        Enumeration&lt;InputStream&gt; e = vector.elements();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.序列流</span></span><br><span class="line">        SequenceInputStream sis = <span class="keyword">new</span> SequenceInputStream(e);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.创建输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"d.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//读写 </span></span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((b = sis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(b);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        sis.close();</span><br><span class="line">        fos.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="OutputStream"><a href="#OutputStream" class="headerlink" title="OutputStream"></a>OutputStream</h4><ol><li>OutputStream 是所有的输出字节流的父类，它是一个抽象类。</li><li>ByteArrayOutputStream、FileOutputStream 是两种基本的介质流，它们分别向Byte 数组、和本地文件中写入数据。PipedOutputStream 是向与其它线程共用的管道中写入数据，</li><li>ObjectOutputStream 和所有FilterOutputStream 的子类都是装饰流。</li></ol><p><strong>字节输出流操作步骤:</strong></p><p>创建字节输出流对象</p><p>写数据</p><p>释放资源</p><p>write(int b):写一个字节</p><p>write(byte[] b):写一个字节数组</p><p>write(byte[] b,int off,int len):写一个字节数组的一部分</p><p><strong>如何实现数据的换行？</strong></p><p>实现换行不同操作系统换行符号识别不一样</p><p>Windows:\r\n</p><p>Linux:\n</p><p>Mac:\r</p><h5 id="FileInputStream-1"><a href="#FileInputStream-1" class="headerlink" title="FileInputStream"></a>FileInputStream</h5><ul><li>文件输出流是用于将数据写入 File 的输出流。</li><li>FileOutputStream 用于写入诸如图像数据之类的原始字节的流。</li><li>查看文档的构造方法和成员方法</li></ul><p><strong>创建字节输出流做了几件事情：</strong></p><p>调用系统功能去创建文件</p><p>创建fos对象</p><p>把fos对象指向这个文件</p><p>//关闭此文件输出流并释放与此流有关的系统资源</p><p>//让流对象变成垃圾，这样就可以被垃圾回收器回收</p><p>//通知系统去释放跟该文件相关的资源</p><p>fos.close();</p><p><strong>如何实现数据的追加写入？</strong></p><p>FileOutPutStream构造方法的第二个参数:true</p><p>写在末尾处可以实现追加</p><p><strong>案例:往一个abc.txt文件写数据（知识点）</strong></p><ul><li>new FileOutputStream(file)这种构造方法，会把以前的内容都删除</li><li>new FileOutputStream(file,true);这种构造方法能追加内容</li><li>FileNotFoundException是IOException的子类</li><li>write(int b)，写数据</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*      FileOutputStream:表示文件输出流，用于往文件写内容</span></span><br><span class="line"><span class="comment"> *      </span></span><br><span class="line"><span class="comment"> *      构造方法</span></span><br><span class="line"><span class="comment"> *      FileOutputStream(String name)</span></span><br><span class="line"><span class="comment"> *      FileOutputStream(File file) </span></span><br><span class="line"><span class="comment"> *      </span></span><br><span class="line"><span class="comment"> *      方法</span></span><br><span class="line"><span class="comment"> *      write(int b);//每次写一个字节</span></span><br><span class="line"><span class="comment"> *      write(byte[] b) ;//一次写多个字节</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//案例：往b.txt 写个内容</span></span><br><span class="line">        <span class="comment">//1.创建文件输出流对象</span></span><br><span class="line">        <span class="comment">//FileOutputStream fos = new FileOutputStream("b.txt");</span></span><br><span class="line">        OutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"b.txt"</span>);<span class="comment">//多态写法</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.写数据 </span></span><br><span class="line"><span class="comment">//      fos.write(97);//a</span></span><br><span class="line"><span class="comment">//      fos.write(98);//b</span></span><br><span class="line"><span class="comment">//      fos.write(99);//c</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//一次性写多个字节</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = &#123;<span class="number">97</span>,<span class="number">98</span>,<span class="number">99</span>,<span class="number">100</span>,<span class="number">101</span>&#125;;</span><br><span class="line">        fos.write(bytes);</span><br><span class="line">        <span class="comment">//3.关闭流</span></span><br><span class="line">        fos.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>案例:拷贝图片和音频</strong></p><ul><li>原理，使用输入流读取数据，使用输出流写数据</li><li>画图讲原理和性能<br>每次都读一次字节，太慢，效率太低</li></ul><p><img src="/category/JavaSE-IO/o1.png" alt="o"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//案例:拷贝图片</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 目的：结合输入流和输出流使用</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 图片路径：C:\Users\10301\Desktop\a\cm.jpg</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.先创建输入流对象和输出流对象</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"C:/Users/10301/Desktop/a/cm.jpg"</span>);</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"C:/Users/10301/Desktop/a/cm2.jpg"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.通过输入流读取图片的数据</span></span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>( (b = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//3.通过输出流写入图片数据</span></span><br><span class="line">            fos.write(b);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关闭流</span></span><br><span class="line">        fos.close();</span><br><span class="line">        fis.close();</span><br><span class="line">        System.out.println(<span class="string">"图片拷贝成功"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>字节数组拷贝之available()方法</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//案例:拷贝图片【优化一、这种方式在大文件下不建议使用】</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 前面拷贝图片问题：每次只读一个字节，写入的时候也是一个字节一个字节写</span></span><br><span class="line"><span class="comment">         *                  如果有10W个字节，就要读10W次，写10W次</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 字节数组拷贝之available()方法</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">//1.文件输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"C:/Users/10301/Desktop/a/cm.jpg"</span>);</span><br><span class="line">        <span class="keyword">int</span> size = fis.available();<span class="comment">//是返回文件的长度【字节为单位】</span></span><br><span class="line">        System.out.println(<span class="string">"文件的大小:"</span> + size);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.现在一次读文件大小的字节</span></span><br><span class="line">        <span class="comment">//2.1定义一个字节数组</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[size];<span class="comment">//相当于现在是一个空杯子</span></span><br><span class="line">        <span class="comment">//2.2 把数据读到字节数组中</span></span><br><span class="line">        <span class="keyword">int</span> r = fis.read(bytes);<span class="comment">//这个方法的返回值读取到的实际长度</span></span><br><span class="line">        System.out.println(<span class="string">"r:"</span> + r);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.把字节数组一次性写入到文件</span></span><br><span class="line">        <span class="comment">//3.1 输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"C:/Users/10301/Desktop/a/cm-副本.jpg"</span>);</span><br><span class="line">        <span class="comment">//3.2 写数据</span></span><br><span class="line">        fos.write(bytes);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关闭流</span></span><br><span class="line">        fis.close();</span><br><span class="line">        fos.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>案例:正确的拷贝文件的方法（杯子思想、缓冲思想）</strong></p><ol><li><p>输入流读取数据的方法:</p><p>read(byte[] b) 读取指定字节数的数据</p></li></ol><ol><li><p>输出流写数据的方法:</p><p>write(byte[] b)</p><p>write(byte[] b, int off, int len)写出有效的字节个数</p></li></ol><p><img src="/category/JavaSE-IO/o2.png" alt="o"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 杯子思想,缓冲思想</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> gyf</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//案例:拷贝图片【优化二、这种方式开发中建议经常使用】</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1.每次只读一个字节，又觉得太慢</span></span><br><span class="line"><span class="comment">         * 2.一次性读一个文件的所有数据，又怕内存装不下</span></span><br><span class="line"><span class="comment">         *   内存只有2G,视频3G,这样就会内存溢出</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 3.最终解决方法：折中，定义每次读8KB</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"C:/Users/10301/Desktop/a/cm.jpg"</span>);</span><br><span class="line">        <span class="comment">//2.输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"C:/Users/10301/Desktop/a/cm-副本2.jpg"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.定义个8kb字节数组，也叫缓冲区流</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes =  <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span> * <span class="number">8</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>( (len = fis.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            i++;</span><br><span class="line">            <span class="comment">//4.写入文件</span></span><br><span class="line">            fos.write(bytes,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">"读取的次数:"</span> + i);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//5.关闭流</span></span><br><span class="line">        fis.close();</span><br><span class="line">        fos.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="DataOutputSteam"><a href="#DataOutputSteam" class="headerlink" title="DataOutputSteam"></a>DataOutputSteam</h5><p>数据输出流</p><p>操作基本数据类型</p><p><strong>什么是数据输入输出流</strong></p><p>DataInputStream, DataOutputStream可以按照基本数据类型大小读写数据<br>例如:<br>按Long大小写出一个数字, 写出时该数据占8字节. 读取的时候也可以按照Long类型读取, 一次读取8个字节.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.DataInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.DataOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//DataOutputStream&amp;DataInputStream 数据输入输出流</span></span><br><span class="line"><span class="comment">/*      DataInputStream, DataOutputStream可以按照基本数据类型大小读写数据 </span></span><br><span class="line"><span class="comment">        例如按Long大小写出一个数字, 写出时该数据占8字节. </span></span><br><span class="line"><span class="comment">        读取的时候也可以按照Long类型读取, 一次读取8个字节.*/</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//读3个long数据</span></span><br><span class="line">        DataInputStream dis = <span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>));</span><br><span class="line">        System.out.println(dis.readLong());<span class="comment">//读8个字节</span></span><br><span class="line">        System.out.println(dis.readLong());<span class="comment">//读8个字节</span></span><br><span class="line">        System.out.println(dis.readLong());<span class="comment">//读8个字节</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">        <span class="keyword">long</span> a = <span class="number">997</span>;</span><br><span class="line">        <span class="keyword">long</span> b = <span class="number">998</span>;</span><br><span class="line">        <span class="keyword">long</span> c = <span class="number">999</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//使用FileOutputStream没法写入long类型数据</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        <span class="comment">//byte -128~127 0~255</span></span><br><span class="line"><span class="comment">/*      fos.write(997);只会写一个字节，不会写4个字节</span></span><br><span class="line"><span class="comment">        fos.write(998);</span></span><br><span class="line"><span class="comment">        fos.write(999);*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//fos.wr</span></span><br><span class="line">        DataOutputStream dos = <span class="keyword">new</span> DataOutputStream(fos);</span><br><span class="line">        dos.writeLong(a);<span class="comment">//写4个字节</span></span><br><span class="line">        dos.writeLong(b);</span><br><span class="line">        dos.writeLong(c);</span><br><span class="line">        </span><br><span class="line">        dos.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ByteArrayOutputStream"><a href="#ByteArrayOutputStream" class="headerlink" title="ByteArrayOutputStream"></a>ByteArrayOutputStream</h5><p>内存输出流</p><p>操作字节数组</p><p>此类实现了一个输出流，其中的数据被写入一个 byte 数组。缓冲区会随着数据的不断写入而自动增长。可使用 toByteArray() 和 toString() 获取数据。</p><p><img src="/category/JavaSE-IO/byte.png" alt="byte"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//ByteArrayOutputStream 字节数组输出流</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1.前面学习的流-必需关于一个文件</span></span><br><span class="line"><span class="comment">         * FileOutputStream fos = new FileOutputStream("a.txt")</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 2.ByteArrayOutputStream 不需要关联文件</span></span><br><span class="line"><span class="comment">         *  </span></span><br><span class="line"><span class="comment">         * 3.此类实现了一个输出流，其中的数据被写入一个 byte 数组。</span></span><br><span class="line"><span class="comment">         *    缓冲区会随着数据的不断写入而自动增长。</span></span><br><span class="line"><span class="comment">         *   可使用 toByteArray() 和 toString() 获取数据。</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">                </span><br><span class="line">        <span class="comment">//1.创建字节数组输出流对象</span></span><br><span class="line">        ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">                </span><br><span class="line">        <span class="comment">//2.输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.写入输出流</span></span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((b = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            baos.write(b);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//自动把字节数组 转成 字符串</span></span><br><span class="line">        System.out.println(baos.toString());</span><br><span class="line">        System.out.println(baos.toString(<span class="string">"UTF-8"</span>));<span class="comment">//指定编码格式的字符串</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//获取文件数据</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = baos.toByteArray();</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bytes));</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bytes, <span class="string">"UTF-8"</span>));<span class="comment">//指定编码格式的字符串</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关流</span></span><br><span class="line">        fis.close();</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>面试题：找bug</strong></p><blockquote><p>定义一个文件输入流,调用read(byte[] b)方法,将a.txt文件中的内容打印出来(byte数组大小限制为5)</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"><span class="comment">/*      面试题：找bug</span></span><br><span class="line"><span class="comment">        定义一个文件输入流,调用read(byte[] b)方法,</span></span><br><span class="line"><span class="comment">        将a.txt文件中的内容打印出来(byte数组大小限制为5)*/</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.文件输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.字节数组输出流</span></span><br><span class="line">        ByteArrayOutputStream baos = <span class="keyword">new</span> ByteArrayOutputStream();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.字节数组【缓冲区思想，杯子思想】</span></span><br><span class="line">        <span class="keyword">byte</span>[] arr = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="keyword">int</span> len;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(arr)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="comment">//通过字节缓冲数组写入</span></span><br><span class="line">            baos.write(arr, <span class="number">0</span>, len);</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//把字节转成字符串</span></span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * 中文乱码问题</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            System.out.println(<span class="keyword">new</span> String(arr,<span class="number">0</span>,len));</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//内部会调用toString方法,把字节数组转成字符串</span></span><br><span class="line">        System.out.println(baos);</span><br><span class="line">        </span><br><span class="line">        fis.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="对象操作流ObjecOutputStream-amp-ObjecInputStream-（了解）"><a href="#对象操作流ObjecOutputStream-amp-ObjecInputStream-（了解）" class="headerlink" title="对象操作流ObjecOutputStream&amp; ObjecInputStream （了解）"></a>对象操作流ObjecOutputStream&amp; ObjecInputStream （了解）</h5><p><strong>什么是对象操作流</strong></p><p>该流可以将一个对象写出, 或者读取一个对象到程序中. 也就是执行了序列化和反序列化的操作.</p><p><strong>归档（序列化） ：将对象存在一个文件解归档=反序列化：把一个文件解析出对象</strong></p><p>ObjecOutputStream对象输出流，把一个对象存储起来，存储的对象必须实现Serializable接口<br>ObjecInputStream对象输入流，把存的数据还原成一个对象</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.EOFException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInput;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="comment">//对象操作流ObjectOutputStream&amp; ObjectInputStream</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 一、ObjectOutputStream：将一个对象写入文件</span></span><br><span class="line"><span class="comment">         *    1.如果使用这个类写入对象，这个对象需要序列化</span></span><br><span class="line"><span class="comment">         *    2.序列化就是让这个对象实现一个Serializable接口</span></span><br><span class="line"><span class="comment">         *    3.如果没实现Serializable接口，会抛异常NotSerializableException</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">         * 二、ObjectInputStream：从文件中读一个对象</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//案例：从文件中取出女朋友对象</span></span><br><span class="line">        <span class="comment">//1.创建一个对象输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"gf.data"</span>);</span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(fis);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.读数据</span></span><br><span class="line">        GirlFriend gf1 = (GirlFriend) ois.readObject();</span><br><span class="line">        System.out.println(gf1);</span><br><span class="line">        GirlFriend gf2 = (GirlFriend) ois.readObject();</span><br><span class="line">        System.out.println(gf2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 如果没有数据可读了，强制读的时候报错了EOFException，</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println(ois.readObject());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//案例：将对象直接存入文件</span></span><br><span class="line">        <span class="comment">//1.创建女朋友对象</span></span><br><span class="line">        GirlFriend gf1 = <span class="keyword">new</span> GirlFriend(<span class="string">"林志玲"</span>, <span class="number">1.78</span>);</span><br><span class="line">        GirlFriend gf2 = <span class="keyword">new</span> GirlFriend(<span class="string">"林心如"</span>, <span class="number">1.68</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.创建对象输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"gf.data"</span>);</span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(fos);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.往文件存入对象</span></span><br><span class="line">        oos.writeObject(gf1);</span><br><span class="line">        oos.writeObject(gf2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关流</span></span><br><span class="line">        oos.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GirlFriend</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">double</span> height;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GirlFriend</span><span class="params">(String name, <span class="keyword">double</span> height)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.height = height;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"GirlFriend [name="</span> + name + <span class="string">", height="</span> + height + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>对象操作流优化</strong></p><p>为了方便读取多个对象<br>建立把将对象存储在集合中，然后将集合对象存入取出</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//对象操作流优化-思路，存多个对象时，把对象存在list里面</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//把女朋友对象存在List中，再把List写入文件【序列化/归档】</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.创建集合</span></span><br><span class="line">        List&lt;GirlFriend&gt; list = <span class="keyword">new</span> ArrayList&lt;GirlFriend&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.添加女朋友</span></span><br><span class="line">        list.add(<span class="keyword">new</span> GirlFriend(<span class="string">"林志玲"</span>, <span class="number">1.78</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> GirlFriend(<span class="string">"林心如"</span>, <span class="number">1.68</span>));</span><br><span class="line">        list.add(<span class="keyword">new</span> GirlFriend(<span class="string">"林嘉欣"</span>, <span class="number">1.58</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.把list存入文件</span></span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"list.data"</span>));</span><br><span class="line">        oos.writeObject(list);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关流</span></span><br><span class="line">        oos.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GirlFriend</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    <span class="keyword">double</span> height;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GirlFriend</span><span class="params">(String name, <span class="keyword">double</span> height)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.height = height;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"GirlFriend [name="</span> + name + <span class="string">", height="</span> + height + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInput;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//案例：从list.data 读取所有的女朋友对象【反序列化、解归档】</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.创建对象输入流</span></span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"list.data"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.读取List对象</span></span><br><span class="line">        Object obj = ois.readObject();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//把obj转list</span></span><br><span class="line">        <span class="meta">@SuppressWarnings</span>(<span class="string">"unchecked"</span>)</span><br><span class="line">        List&lt;GirlFriend&gt; list = (List&lt;GirlFriend&gt;)obj;</span><br><span class="line">        System.out.println(obj.getClass());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//遍历</span></span><br><span class="line">        <span class="keyword">for</span>(GirlFriend gf : list)&#123;</span><br><span class="line">            System.out.println(gf);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        ois.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h5><p>序列化流：ObjectOutputStream</p><p>反序列化流：ObjectInputStream</p><p><strong>序列化数据后，再次修改类文件，读取数据会出现问题，如何解决？</strong></p><p>使用transient关键字声明不需要序列化的成员变量</p><p><strong>NotSerializableException：未序列化异常</strong></p><p>类通过实现java.io.Serializable接口以启用其序列化功能，未实现此接口的类将无法使其任何状态序列化或反序列化，该接口没有任何方法，类似这种没有方法的接口被称为标记接口</p><p><strong>Serializable接口的ID</strong></p><p>要归档或者序列化的对象必须实现Serializable接口才能被序列化<br>Serializable 中有个id，但ID不是一定有加的<br>SerialVersionUid，简言之，其目的是序列化对象版本控制，有关各版本反序列化时是否兼容。<br>如果在新版本中这个值修改了，新版本就不兼容旧版本，反序列化时会抛出InvalidClassException异常。<br>如果修改较小，比如仅仅是增加了一个属性，我们希望向下兼容，老版本的数据都能保留，那就不用修改；<br>如果我们删除了一个属性，或者更改了类的继承关系，必然不兼容旧数据，这时就应该手动更新版本号，即SerialVersionUid。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException</span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*  Serializable接口的ID</span></span><br><span class="line"><span class="comment">        1.要归档或者序列化的对象必须实现Serializable接口才能被序列化 </span></span><br><span class="line"><span class="comment">        2.Serializable 中有个id，但ID不是一定要加的</span></span><br><span class="line"><span class="comment">        3.SerialVersionUid，简言之，其目的是以序列化对象进行版本控制，有关各版本</span></span><br><span class="line"><span class="comment">        反序列化时是否兼容。</span></span><br><span class="line"><span class="comment">        4.如果在新版本中这个值修改了，新版本就不兼容旧版本，反序列化时会抛出InvalidClassException异常。</span></span><br><span class="line"><span class="comment">        5.如果修改较小，比如仅仅是增加了一个属性，我们希望向下兼容，老版本</span></span><br><span class="line"><span class="comment">            的数据都能保留，那就不用修改；</span></span><br><span class="line"><span class="comment">        6.如果我们删除了一个属性，或者更改了类的继承关系，必然不兼容旧数据，</span></span><br><span class="line"><span class="comment">                这时就应该手动更新版本号，即SerialVersionUid。</span></span><br><span class="line"><span class="comment">        7.一般不会添加ID,就算添加了ID,版本号最好不要修改</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//save();</span></span><br><span class="line">        <span class="comment">//取学生</span></span><br><span class="line">        ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"stu.data"</span>));</span><br><span class="line">        Student stu = (Student) ois.readObject();</span><br><span class="line">        System.out.println(stu);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">()</span> <span class="keyword">throws</span> IOException, FileNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">//1.创建学生对象</span></span><br><span class="line">        Student stu = <span class="keyword">new</span> Student(<span class="string">"霍建华"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.把学生存入文件</span></span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"stu.data"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 存的学生的版本号是1</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        oos.writeObject(stu);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.关流</span></span><br><span class="line">        oos.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 序列化版本ID</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String hometown;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Student [name="</span> + name + <span class="string">"]"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="IO-编码表"><a href="#IO-编码表" class="headerlink" title="IO-编码表"></a>IO-编码表</h4><p><img src="/category/JavaSE-IO/bm.png" alt="b"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String (<span class="keyword">byte</span>[] bytes,String charsetName);<span class="comment">//通过指定的字符集编码字节数组</span></span><br><span class="line"><span class="keyword">byte</span>[] getBytes(String charsetName);<span class="comment">//使用指定的字符集合把字符串编码为字节数组</span></span><br></pre></td></tr></table></figure><h4 id="BufferedInputStream和BufferOutputStream"><a href="#BufferedInputStream和BufferOutputStream" class="headerlink" title="BufferedInputStream和BufferOutputStream"></a>BufferedInputStream和BufferOutputStream</h4><ul><li>这两个流是内置了缓冲区流,也就是说内部有一个 字节数组</li><li>缓冲思想<br>字节流一次读写一个数组的速度明显比一次读写一个字节的速度快很多，<br>java本身在设计的时候,加入了数组这样的缓冲区效果，<br>也考虑到了这样的设计思想(装饰设计模式后面讲解)，所以提供了字节缓冲区流</li><li>BufferedInputStream<br>BufferedInputStream内置了一个缓冲区(数组)<br>从BufferedInputStream中读取一个字节时<br>BufferedInputStream会一次性从文件中读取8192个(8Kb), 存在缓冲区中, 返回给程序<br>程序再次读取时, 就不用找文件了, 直接从缓冲区中获取<br>直到缓冲区中所有的都被使用过, 才重新从文件中读取8192个</li><li>BufferedOutputStream<br>BufferedOutputStream也内置了一个缓冲区(数组)<br>程序向流中写出字节时, 不会直接写到文件, 先写到缓冲区中<br>直到缓冲区写满, BufferedOutputStream才会把缓冲区中的数据一次性写到文件里</li></ul><p><strong>案例:使用缓冲输入输出流拷贝文件</strong></p><p><img src="/category/JavaSE-IO/b.png" alt="b"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="comment">//1.创建文件输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"C:/Users/10301/Desktop/a/ghsy.mp3"</span>);</span><br><span class="line">        <span class="comment">//2.创建文件输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"C:/Users/10301/Desktop/a/ghsy-副本.mp3"</span>);</span><br><span class="line">        <span class="comment">//3.输入流读数据、输出流写数据</span></span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>( (b = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(b);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4.关流</span></span><br><span class="line">        fis.close();</span><br><span class="line">        fos.close();</span><br><span class="line">        System.out.println(<span class="string">"音频拷贝完成..."</span>); </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">/*  BufferedInputStream和BufferedOutputStream</span></span><br><span class="line"><span class="comment">            &gt;这两个流是内置了缓冲区流,也就是说内部有一个字节数组</span></span><br><span class="line"><span class="comment">            &gt;这个两个类没有前面我们写的好用，因为它内部每次读8kb字节，如果想读80kb,没办法</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">            <span class="comment">//案例：拷贝音频文件</span></span><br><span class="line">            <span class="comment">//1.创建缓冲输入流</span></span><br><span class="line">            FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"C:/Users/10301/Desktop/a/ghsy.mp3"</span>);</span><br><span class="line">            BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">            <span class="comment">//2.创建缓冲输出流</span></span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"C:/Users/10301/Desktop/a/ghsy-副本.mp3"</span>);</span><br><span class="line">            BufferedOutputStream bos =<span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line">            <span class="comment">//3.输入流读数据、输出流写数据</span></span><br><span class="line">            <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">            <span class="comment">// bis.read()方法，内部会读8kb数据</span></span><br><span class="line">            <span class="keyword">while</span>( (b = bis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">                bos.write(b);<span class="comment">//内部会写8kb数据</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//4.关流,只需要关缓冲流，文件流不用关</span></span><br><span class="line">            bis.close();<span class="comment">//【内部会关文件流输入流】</span></span><br><span class="line">            bos.close();<span class="comment">//【内部会关文件流输出流】</span></span><br><span class="line">            System.out.println(<span class="string">"音频拷贝完成..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="带Buffered的流和自己写的数组缓冲对比"><a href="#带Buffered的流和自己写的数组缓冲对比" class="headerlink" title="带Buffered的流和自己写的数组缓冲对比"></a>带Buffered的流和自己写的数组缓冲对比</h5><p>自己写的数组的读写和带Buffered的读取哪个更快?<br>自己写数组会略胜一筹,因为读和写操作的是同一个数组<br>而Buffered操作的是两个数组</p><h5 id="BufferOutputStream的flush和close方法的区别"><a href="#BufferOutputStream的flush和close方法的区别" class="headerlink" title="BufferOutputStream的flush和close方法的区别"></a>BufferOutputStream的flush和close方法的区别</h5><ul><li>flush()方法<br>用来刷新缓冲区的,刷新后可以再次写出</li><li>close()方法<br>用来关闭流释放资源的的,如果是带缓冲区的流对象的close()方法,不但会关闭流,还会再关闭流之前刷新缓冲区,关闭后不能再写出</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line">    <span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line">    <span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line">    <span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line">    <span class="keyword">import</span> java.io.IOException;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">            <span class="comment">//BufferedOutputStream的flush和close方法的区别</span></span><br><span class="line">        <span class="comment">/*  flush()方法</span></span><br><span class="line"><span class="comment">                1.用来刷新缓冲区的,刷新后可以再次写出 </span></span><br><span class="line"><span class="comment">            close()方法</span></span><br><span class="line"><span class="comment">                2.用来关闭流释放资源的</span></span><br><span class="line"><span class="comment">                3.如果是带缓冲区的流对象的close()方法,不但会关闭流,还会再关闭流之前刷新缓冲区,关闭后不能再写出 </span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">            <span class="comment">//案例：把a文件的内容拷贝到b文件</span></span><br><span class="line">            <span class="comment">//1.输入流</span></span><br><span class="line">            FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">            BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">            <span class="comment">//2.输出流</span></span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"b.txt"</span>);</span><br><span class="line">            BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line">            <span class="comment">//3.读写操作</span></span><br><span class="line">            <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>( (b = bis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">                bos.write(b);</span><br><span class="line">            &#125; </span><br><span class="line">            bos.flush();</span><br><span class="line">            bos.write(<span class="number">97</span>);</span><br><span class="line">            <span class="comment">//bos.flush();</span></span><br><span class="line">            <span class="comment">//4.关闭流</span></span><br><span class="line">            bis.close();</span><br><span class="line">            bos.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h5 id="字节流读写中文乱码问题"><a href="#字节流读写中文乱码问题" class="headerlink" title="字节流读写中文乱码问题"></a>字节流读写中文乱码问题</h5><p>字节流读取中文:<br>字节流读取中文的问题<br>字节流在读中文的时候有可能会读到半个中文,造成乱码</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo06</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//字节流读写中文乱码问题</span></span><br><span class="line">        <span class="comment">//1.读数据</span></span><br><span class="line">        <span class="comment">//创建文件输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        <span class="comment">//读</span></span><br><span class="line">        <span class="comment">//定义字节数组[杯子思想，缓冲区思想]</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 在UTF-8编码表中，一个中文占3个字节,一个英文占1个字节</span></span><br><span class="line"><span class="comment">         * 在GBK编译中，一个中文占2个字节</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">byte</span> buf[] = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">3</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>( (len = fis.read(buf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">"len:"</span> + len );</span><br><span class="line">            <span class="comment">//把字节转成字符串</span></span><br><span class="line">            String s = <span class="keyword">new</span> String(buf, <span class="number">0</span>, len);</span><br><span class="line">            System.out.println(<span class="string">"s:"</span> + s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>字节流写入中文的问题<br>字节流直接操作的字节,所以写出中文必须将字符串转换成字节数组<br>写出回车换行 write(“\r\n”.getBytes());</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123; </span><br><span class="line">        <span class="comment">//案例：往a.txt文件写中文</span></span><br><span class="line">        <span class="comment">//1.输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        <span class="comment">//2.写中文</span></span><br><span class="line">        String s = <span class="string">"你好，Gosling最近好吗？"</span>;</span><br><span class="line">        <span class="comment">//把字符转成字节数组</span></span><br><span class="line">        <span class="comment">//byte[] bytes = s.getBytes();</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * charsetName 字符编码 UTF-8(Unicode),GBK,ASCII</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = s.getBytes(<span class="string">"UTF-8"</span>);</span><br><span class="line">        fos.write(bytes);</span><br><span class="line">        <span class="comment">//3.关流</span></span><br><span class="line">        fos.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="流的标准处理代码"><a href="#流的标准处理代码" class="headerlink" title="流的标准处理代码"></a>流的标准处理代码</h5><p><strong>流的标准处理异常代码1.6版本及其以前</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">        <span class="comment">//流的标准处理异常代码-jdk1.6版本及其以前</span></span><br><span class="line">        <span class="comment">//案例：a.txt的内容拷贝到b.txt</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"b.txt"</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//读写数据会抛出</span></span><br><span class="line">            <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>((b = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">                fos.write(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//关流</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line"></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"b.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//读写数据会抛出</span></span><br><span class="line">            <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>((b = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">                fos.write(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">//关流</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>流的标准处理异常代码1.7以上版本</strong></p><p>原理：在try()中创建的流对象必须实现了AutoCloseable这个接口,如果实现了,在try后面的{}(读写代码)执行后就会自动调用,流对象的close方法将流关掉</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//流的标准处理异常代码1.7版本</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1.把流对象的声明放在try() 括号里面</span></span><br><span class="line"><span class="comment">         * 2.操作流【读写数据】的代码放在花括号里面</span></span><br><span class="line"><span class="comment">         * 3.这样写不用关闭流，java自动关闭流</span></span><br><span class="line"><span class="comment">         * 4.在try的括号里的对象，必须是实现AutoCloseable的接口</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">try</span>(</span><br><span class="line">            FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"b.txt"</span>);</span><br><span class="line">            <span class="comment">//Person p = new Person();</span></span><br><span class="line">            <span class="comment">//声明一个自己输入流</span></span><br><span class="line">            MyInputStream myis = <span class="keyword">new</span> MyInputStream();</span><br><span class="line">        )&#123;</span><br><span class="line">            <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span>((b = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">                fos.write(b);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInputStream</span> <span class="keyword">implements</span> <span class="title">AutoCloseable</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"我的输入流关闭了..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h5><p><strong>练习:图片加密</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="comment">//练习:图片加密</span></span><br><span class="line">        <span class="comment">//1.输入输出流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"C:/Users/10301/Desktop/a/cm2.jpg"</span>);</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"C:/Users/10301/Desktop/a/cm.jpg"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.读写数据</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 加密操作</span></span><br><span class="line"><span class="comment">         * 解密操作</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 一个数异或2次，数据不变</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((b = fis.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(b ^ <span class="number">5</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.关流</span></span><br><span class="line">        fis.close();</span><br><span class="line">        fos.close();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"图片加密完成"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>练习:根据用户输入的文件拷贝文件到当前项目目录</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//练习:根据用户输入的文件[图片]拷贝文件到当前项目目录</span></span><br><span class="line">        <span class="comment">//C:/Users/10301/Desktop/a/cm2.jpg</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.获取用户输入的文件路径</span></span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">"请输入一个文件的路径[请不要输入文件夹路径]:"</span>);</span><br><span class="line">        String path = scanner.nextLine();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.判断这个路径是否为文件</span></span><br><span class="line">        File file = <span class="keyword">new</span> File(path);</span><br><span class="line">        <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">            System.out.println(<span class="string">"您输入的路径不是一个文件"</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.如果是文件就拷贝</span></span><br><span class="line">        <span class="comment">//3.1 输入流</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(path);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.2输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(file.getName());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.3读写【性能】</span></span><br><span class="line">        <span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">8</span> * <span class="number">1024</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = fis.read(buf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            fos.write(buf, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.4关流</span></span><br><span class="line">        fis.close();</span><br><span class="line">        fos.close();</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">"文件拷贝完成..."</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>练习:录入数据拷贝到文件</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//练习:录入数据拷贝到文件</span></span><br><span class="line">        <span class="comment">//1.创建一个文件输出流</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"new.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.创建一个Scanner对象</span></span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(<span class="string">"请输入需要录入内容...输入quit代表退出"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.通过死循环来获取用户输入【当输入quit，代表不录入】</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">            <span class="comment">//获取用户的输入</span></span><br><span class="line">            String line = scanner.nextLine();</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//退出循环</span></span><br><span class="line">            <span class="keyword">if</span>(line.equals(<span class="string">"quit"</span>))&#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">//写入文件</span></span><br><span class="line">            fos.write(line.getBytes());</span><br><span class="line">            <span class="comment">//换行</span></span><br><span class="line">            fos.write(<span class="string">"\r\n"</span>.getBytes());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关流</span></span><br><span class="line">        fos.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h3><p>字符流以字符为单位，根据码表映射字符，一次可能读多个字节，字符流只能处理字符类型的数据</p><ol><li>字符流是可以直接读写字符的IO流</li><li>字符流读取字符, 就要先读取到字节数据, 然后转为字符.</li><li>写入字符, 需要把字符转为字节再写出</li><li>字符流=字节流+编码表</li></ol><p><img src="/category/JavaSE-IO/inout.png" alt="rw"></p><p><strong>InputStreamReader</strong></p><p>InputStreamReader(InputStream is);//用默认的编码读取数据</p><p>InputStreamReader(InputStream is,String charsetName);//用指定的编码读取数据</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//InputStreamReader的方法</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">()</span></span>;<span class="comment">//一次读取一个字符</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span>[] chs)</span></span>;<span class="comment">//一次读取一个字符数组</span></span><br></pre></td></tr></table></figure><p><strong>OutputStreamWriter</strong></p><p>OutputStreamWriter(OutputStream out);//根据默认编码把字节流的数据转换为字符流</p><p>OutputStreamWriter(OutputStream out,String charsetName);//根据指定编码把字节流数据转换为字符流</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//OutputStreamWriter的方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">int</span> c)</span></span>;<span class="comment">//写一个字符</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">char</span>[] cbuf)</span></span>;<span class="comment">//写一个字符数组</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(<span class="keyword">char</span>[] cbuf,<span class="keyword">int</span> off,<span class="keyword">int</span> len)</span></span>;<span class="comment">//写一个字符数组的一部分</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(String str)</span></span>;<span class="comment">//写一个字符串</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">(String str,<span class="keyword">int</span> off,<span class="keyword">int</span> len)</span></span>;<span class="comment">//写一个字符串的一部分</span></span><br></pre></td></tr></table></figure><p>由于我们常见的操作都是使用本地默认编码，所以不用指定编码</p><p>而转换流的名称有点长，所以Java就提供了其子类供我们使用</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">OutputStreamWriter = FileOutputStream + 编码表(GBK);</span><br><span class="line">FileWriter = FileOutputStream + 编码表(GBK);</span><br><span class="line"></span><br><span class="line">InputStreamReader = FileInputStream + 编码表(GBK);</span><br><span class="line">FileReader = FileInputStream + 编码表(GBK)</span><br></pre></td></tr></table></figure><p><strong>close()和flush()的区别？</strong></p><p>close()：关闭流对象，但是先刷新一次缓冲区，关闭之后，流对象不可与再继续使用</p><p>flush()：仅仅刷新缓冲区，刷新之后，流对象还可以继续使用</p><h4 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h4><ol><li>Reader 是所有的输入字符流的父类，它是一个抽象类。</li><li>CharReader、StringReader 是两种基本的介质流，它们分别将Char 数组、String中读取数据。PipedReader 是从与其它线程共用的管道中读取数据。</li><li>BufferedReader 很明显就是一个装饰器，它和其子类负责装饰其它Reader 对象。</li><li>FilterReader 是所有自定义具体装饰流的父类，其子类PushbackReader 对Reader 对象进行装饰，会增加一个行号。</li><li>InputStreamReader 是一个连接字节流和字符流的桥梁，它将字节流转变为字符流。FileReader 可以说是一个达到此功能、常用的工具类，在其源代码中明显使用了将FileInputStream 转变为Reader 的方法。我们可以从这个类中得到一定的技巧。Reader 中各个类的用途和使用方法基本和InputStream 中的类使用一致。后面会有Reader 与InputStream 的对应关系。</li></ol><p><img src="/category/JavaSE-IO/reader.png" alt="reader"></p><h4 id="Writer"><a href="#Writer" class="headerlink" title="Writer"></a>Writer</h4><ol><li><p>Writer 是所有的输出字符流的父类，它是一个抽象类。</p></li><li><p>CharArrayWriter、StringWriter 是两种基本的介质流，它们分别向Char 数组、String 中写入数据。PipedWriter 是向与其它线程共用的管道中写入数据，</p></li><li><p>BufferedWriter 是一个装饰器为Writer 提供缓冲功能。</p></li><li><p>PrintWriter 和PrintStream 极其类似，功能和使用也非常相似。</p></li><li><p>OutputStreamWriter 是OutputStream 到Writer 转换的桥梁，它的子类FileWriter 其实就是一个实现此功能的具体类（具体可以研究一SourceCode）。</p><p><img src="/category/JavaSE-IO/writer.png" alt="writer"></p><p>​</p></li></ol><h5 id="FileReader读取字符流"><a href="#FileReader读取字符流" class="headerlink" title="FileReader读取字符流"></a>FileReader读取字符流</h5><p>查看API的方法<br>案例:使用FileReader 读取一个文本数据（知识点):</p><blockquote><p>1、read方法是读取字符char</p><p>2、一个字符可能占用1个字节，2个字节，或者3个字节</p><p>3、占用字节个的数根据码表决定(ASCII:1字节，GBK:2字节 unicode:3个字节)</p><p>4、用int表示字节，假如读取到2个字节，int有4个字节，前个两个字节可以补0</p><p>5、GBK,unicode中，中文的字符的第一个字节都是负数，所以知道怎么去读取</p><p>6、读取的方式与FileInputStream字节流差不多，会用FileInputStream，就会用 FileReader</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 以后读纯文本文件，使用FileReader这个类，为什么？因为我们不用考虑乱码问题</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//读字节</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        <span class="comment">//int 00000000 00000000 00000000 11111111</span></span><br><span class="line">        System.out.println((<span class="keyword">byte</span>)fis.read());</span><br><span class="line">        System.out.println((<span class="keyword">byte</span>)fis.read());</span><br><span class="line">        System.out.println((<span class="keyword">byte</span>)fis.read());</span><br><span class="line">        </span><br><span class="line">        System.out.println((<span class="keyword">byte</span>)fis.read());</span><br><span class="line">    </span><br><span class="line">        System.out.println((<span class="keyword">byte</span>)fis.read());</span><br><span class="line">        System.out.println((<span class="keyword">byte</span>)fis.read());</span><br><span class="line">        System.out.println((<span class="keyword">byte</span>)fis.read());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//FileReader </span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * FileReader 用于读取字符</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.创建对象</span></span><br><span class="line">        FileReader reader = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.读取数据</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * reader.read() : 先读取到字节数据, 然后转为字符</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        System.out.println((<span class="keyword">char</span>)reader.read());</span><br><span class="line">        System.out.println((<span class="keyword">char</span>)reader.read());</span><br><span class="line">        System.out.println((<span class="keyword">char</span>)reader.read());</span><br><span class="line">        System.out.println((<span class="keyword">char</span>)reader.read());</span><br><span class="line">        System.out.println((<span class="keyword">char</span>)reader.read());</span><br><span class="line">        System.out.println(reader.read());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> c;</span><br><span class="line">        <span class="keyword">while</span>((c = reader.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.println((<span class="keyword">char</span>)c);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.关闭流</span></span><br><span class="line">        reader.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="FileWiter-写入字符流"><a href="#FileWiter-写入字符流" class="headerlink" title="FileWiter 写入字符流"></a>FileWiter 写入字符流</h5><p><strong>查看API中FileWriter的方法</strong></p><p><strong>案例:使用FileWrite写入数据（知识点）</strong></p><blockquote><p>1.其实内部是通过一个字符数组缓冲区写入文件<br>2.内部方法，创建一个字符串长度的字符数组缓存区</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * FileWiter:</span></span><br><span class="line"><span class="comment"> * 掌握：</span></span><br><span class="line"><span class="comment"> * 1.write方法使用</span></span><br><span class="line"><span class="comment"> * 2.write方法内部实现，内部是通过一个字符数组缓冲区写入文件</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//FileWiter 文件写入流、文件写入字符流</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//案例：使用FileWiter往一个文件a.txt写内容</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.创建writer对象</span></span><br><span class="line">        FileWriter writer = <span class="keyword">new</span> FileWriter(<span class="string">"a.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.写内容</span></span><br><span class="line">        writer.write(<span class="string">"你好!"</span>);</span><br><span class="line">        writer.write(<span class="string">"\r\n"</span>);</span><br><span class="line">        writer.write(<span class="string">"你好!"</span>);</span><br><span class="line">        writer.write(<span class="string">"\r\n"</span>);</span><br><span class="line">        writer.write(<span class="string">"你好!"</span>);</span><br><span class="line">        writer.write(<span class="string">"\r\n"</span>);</span><br><span class="line">        writer.write(<span class="string">"你好!"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.关闭</span></span><br><span class="line">        writer.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="案例-字符流的拷贝"><a href="#案例-字符流的拷贝" class="headerlink" title="案例:字符流的拷贝"></a>案例:字符流的拷贝</h5><blockquote><p>//案例:字符流的拷贝<br>//思路：用FileReader读字符,用FileWriter写字符</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//案例:字符流的拷贝</span></span><br><span class="line">        <span class="comment">//思路：用FileReader读字符,用FileWriter写字符</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.创建 “读取流” 对象</span></span><br><span class="line">        FileReader reader = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.创建 "写入流" 对象</span></span><br><span class="line">        FileWriter writer = <span class="keyword">new</span> FileWriter(<span class="string">"b.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.读取和写入【缓冲思想】</span></span><br><span class="line">        <span class="keyword">char</span>[] buf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">8</span> * <span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>( (len = reader.read(buf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            writer.write(buf, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关闭流</span></span><br><span class="line">        reader.close();</span><br><span class="line">        writer.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1.创建 “读取流” 对象</span></span><br><span class="line">        FileReader reader = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.创建 "写入流" 对象</span></span><br><span class="line">        FileWriter writer = <span class="keyword">new</span> FileWriter(<span class="string">"b.txt"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.读取和写入</span></span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((c = reader.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            writer.write(c);</span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">        <span class="comment">//4.关闭流</span></span><br><span class="line">        reader.close();</span><br><span class="line">        writer.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="使用字符流的场景"><a href="#使用字符流的场景" class="headerlink" title="使用字符流的场景"></a>使用字符流的场景</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//使用字符流的场景</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1.使用FileReader读取字符</span></span><br><span class="line"><span class="comment">         *      原理：先读字节，把字节转成字符（byte -&gt; char）</span></span><br><span class="line"><span class="comment">         * 2.使用FileWriter写入字符</span></span><br><span class="line"><span class="comment">         *      原理：writer(String str),str 转成 字符数组 再转成 字节写入文件</span></span><br><span class="line"><span class="comment">         *      (string -&gt; char[] -&gt; char -&gt; byte)</span></span><br><span class="line"><span class="comment">         * 如果是读取文本文件，使用FileReader比较好,不考虑乱码问题</span></span><br><span class="line"><span class="comment">         * 如果是写入文本文件，不建议使用FileWriter,直接使用FileOutputStream好一点</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="带缓冲的字符流-BufferedReader-BufferedWriter"><a href="#带缓冲的字符流-BufferedReader-BufferedWriter" class="headerlink" title="带缓冲的字符流 BufferedReader/BufferedWriter"></a>带缓冲的字符流 BufferedReader/BufferedWriter</h5><ol><li><strong>BufferedReader</strong><ol><li>read()方法读取字符时会一次读取若干字符到缓冲区,然后逐个返回给程序, 降低读取文件的次数, 提高效率</li></ol></li><li><strong>BufferedWriter</strong><ol><li>write()方法写出字符时会先写到缓冲区缓冲区写满时才会写到文件, 降低写文件的次数, 提高效率</li><li>查看源码:字符缓冲区的大小是8192</li></ol></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 带缓冲的字符流 BufferedReader/BufferedWriter</span></span><br><span class="line"><span class="comment">         * 1.这两个类，内部都一个缓冲区，字符数组</span></span><br><span class="line"><span class="comment">         * 2.br.read()方法，内部会读8192（8*1024）个字符</span></span><br><span class="line"><span class="comment">         * 3.bw.write(),内部会写8192（8*1024）个字符</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 回顾：带缓冲的字节流,BufferedInputStream/BufferedOutputStream</span></span><br><span class="line"><span class="comment">         * 1.这两个类，内部都一个缓冲区，字节数组</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//需求：拷贝文件,a.txt -&gt; b.txt</span></span><br><span class="line">        <span class="comment">//1.创建Reader</span></span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(fr);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.创建Writer</span></span><br><span class="line">        FileWriter fw =<span class="keyword">new</span> FileWriter(<span class="string">"b.txt"</span>);</span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(fw);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.读写</span></span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>( (c = br.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            bw.write(c);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关流</span></span><br><span class="line">        br.close();<span class="comment">//内部关闭FileReader</span></span><br><span class="line">        bw.close();<span class="comment">//内部关闭FileWriter</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>BufferedReader的readLine()&amp;BufferedWriter的newLine()方法</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//BufferedReader的readLine()&amp;BufferedWriter的newLine()方法</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1.readLine()，每次读取一行数据</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.创建Reader</span></span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(fr);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.读一行数据</span></span><br><span class="line"><span class="comment">/*      System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">        System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">        System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">        System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">        System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">        System.out.println(br.readLine());*/</span></span><br><span class="line">        String line = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span>((line = br.readLine()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.关流</span></span><br><span class="line">        br.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>BufferedWriter的newLine()方法</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//BufferedWriter的newLine()方法</span></span><br><span class="line">        <span class="comment">// newLine()换行</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//往b.txt写a.txt文件的内容【一行一行拷贝,读一行写一行】</span></span><br><span class="line">        <span class="comment">//1.创建Reader</span></span><br><span class="line">        FileReader fr = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(fr);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.创建writer</span></span><br><span class="line">        FileWriter fw = <span class="keyword">new</span> FileWriter(<span class="string">"b.txt"</span>);</span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(fw);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.读一行写一行</span></span><br><span class="line">        String line = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span>((line = br.readLine()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">            bw.write(line);</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * 当使用readline读取一行数据时，不会读回车换行"\r\n"字符</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="comment">//bw.write("\r\n");</span></span><br><span class="line">            bw.newLine();<span class="comment">//换行</span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关流</span></span><br><span class="line">        br.close();</span><br><span class="line">        bw.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>案例:使用带缓冲的字符流拷贝文件</strong></p><p><strong>BufferedReader的readLine()&amp;BufferedWriter的newLine()方法</strong></p><ol><li>BufferedReader的readLine()方法可以读取一行字符(不包含换行符号)</li><li>BufferedWriter的newLine()可以输出一个跨平台的换行符号”\r\n”</li></ol><p><strong>案例:将文本反转</strong></p><blockquote><p>一个文本文档上的文本反转,第一行和倒数第一行交换,第二行和倒数第二行交换</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 掌握思想：</span></span><br><span class="line"><span class="comment"> * 1.for循环的倒序遍历</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//案例:将文本反转写入另一个文件</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.把文本每一行内容读取出来存在List&lt;String&gt; 集合</span></span><br><span class="line">        <span class="comment">//1.1 集合对象</span></span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.2一行行读取文件</span></span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>));</span><br><span class="line">        String line = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">while</span>((line = br.readLine()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">            list.add(line);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        System.out.println(list);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.当我们要写入文件时，倒序保存List集合中的内容到文件中</span></span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"b.txt"</span>));</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = list.size() - <span class="number">1</span> ; i&gt;=<span class="number">0</span>; i--)&#123;</span><br><span class="line">            bw.write(list.get(i));</span><br><span class="line">            bw.newLine();<span class="comment">//换行 </span></span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.关闭流</span></span><br><span class="line">        br.close();</span><br><span class="line">        bw.close();</span><br><span class="line">        System.out.println(<span class="string">"finish...."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="装饰-Decorator-设计模式"><a href="#装饰-Decorator-设计模式" class="headerlink" title="装饰(Decorator)设计模式"></a>装饰(Decorator)设计模式</h4><p><strong>装饰模式的概念:</strong><br>动态的给一个对象添加一些额外的功能，就增加功能来说，装饰模式比生成子类更为灵活。<br>在不必改变原类文件和使用继承的情况下，动态的扩展一个对象的功能。<br>它是创建一个包装对象，也就是使用装饰来包裹真实的对象。</p><p><strong>适用性</strong></p><ol><li>需要扩展一个类的功能，或给一个类添加附加职责。</li><li>当不能采用生成子类来实现，比如final类</li></ol><p><strong>装饰模式的实现方式</strong></p><ol><li>装饰对象和真实对象有相同的接口。</li><li>装饰对象包含一个真实对象的引用（reference）</li><li>装饰对象的所有方法，内部实现都是通过真实对象的引用来调用，然后实现自己的功能</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//案例1</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 一、设计模式【一种固定代码风格】</span></span><br><span class="line"><span class="comment">         *     面试题：Java中有哪些设计模式</span></span><br><span class="line"><span class="comment">         *     常用设计模式：装饰模式、单例模式、模版模式、适配器模式、代理模式、工厂模式...</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 二、装饰(Decorator)设计模式</span></span><br><span class="line"><span class="comment">         *  1.装饰模式的概念:</span></span><br><span class="line"><span class="comment">            装饰模式是动态的给一个对象添加一些额外的功能，就增加功能来说，装饰模式比生成子类更为灵活。</span></span><br><span class="line"><span class="comment">            装饰模式是在不必改变原类文件和使用继承的情况下，动态的扩展一个对象的功能。</span></span><br><span class="line"><span class="comment">            装饰模式是创建一个包装对象，也就是使用装饰来包裹真实的对象。  </span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">            2.装饰模式的实现方式</span></span><br><span class="line"><span class="comment">                1. 装饰对象和真实对象有相同的接口/抽象类。</span></span><br><span class="line"><span class="comment">                2. 装饰对象包含一个真实对象的引用（reference）</span></span><br><span class="line"><span class="comment">                3. 装饰对象的所有方法，内部实现都是通过真实对象的引用来调用，然后实现自己的功能</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">            3.适用性</span></span><br><span class="line"><span class="comment">                1. 需要扩展一个类的功能，或给一个类添加附加职责。</span></span><br><span class="line"><span class="comment">                2. 当不能采用生成子类来实现，比如final类    </span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">    <span class="comment">/*  BufferedInputStream bis = new BufferedInputStream(new FileInputStream("a.txt"));</span></span><br><span class="line"><span class="comment">        BufferedOutputStream bos;</span></span><br><span class="line"><span class="comment">        BufferedReader br;</span></span><br><span class="line"><span class="comment">        BufferedWriter bw;*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*GYFStudent stu = new GYFStudent();</span></span><br><span class="line"><span class="comment">        stu.code();*/</span></span><br><span class="line">        </span><br><span class="line">        GYFStudent stu = <span class="keyword">new</span> GYFStudent(<span class="keyword">new</span> UniversityStudent());</span><br><span class="line">        stu.code();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">code</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.接口实现类</span></span><br><span class="line"><span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">UniversityStudent</span> <span class="keyword">implements</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">code</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        System.out.println(<span class="string">"在大学期间学了一点点C语言..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*class GYFStudent extends UniversityStudent&#123;</span></span><br><span class="line"><span class="comment">    @Override</span></span><br><span class="line"><span class="comment">    public void code() &#123;</span></span><br><span class="line"><span class="comment">        // TODO Auto-generated method stub</span></span><br><span class="line"><span class="comment">        super.code();</span></span><br><span class="line"><span class="comment">        System.out.println("在GYF IT EDU 学习Java语言...");</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GYFStudent</span> <span class="keyword">implements</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> UniversityStudent us;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GYFStudent</span><span class="params">(UniversityStudent us)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.us = us;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//装饰对象的所有方法，内部实现都是通过真实对象的引用来调用，然后实现自己的功能</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">code</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        us.code();</span><br><span class="line">        System.out.println(<span class="string">"在GYF IT EDU 学习Java语言..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//案例2</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        GYFStudent stu = <span class="keyword">new</span> GYFStudent();</span><br><span class="line">        </span><br><span class="line">        stu.coding();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="comment">//人可以具备编码的功能</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">coding</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//大学生</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UniversityStudent</span> <span class="keyword">implements</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">coding</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"我会一点c基础编程..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">piano</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"我会钢琴..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//第一种继承类的写法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">GYFStudent</span> <span class="keyword">extends</span> <span class="title">UniversityStudent</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">coding</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        <span class="keyword">super</span>.coding();</span><br><span class="line">        System.out.println(<span class="string">"我会java基础编程了..."</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//class GYFStudent implements Person&#123;</span></span><br><span class="line"><span class="comment">//  </span></span><br><span class="line"><span class="comment">//  private UniversityStudent uStu;</span></span><br><span class="line"><span class="comment">//  </span></span><br><span class="line"><span class="comment">//  public GYFStudent(UniversityStudent uStu) &#123;</span></span><br><span class="line"><span class="comment">//      super();</span></span><br><span class="line"><span class="comment">//      this.uStu = uStu;</span></span><br><span class="line"><span class="comment">//  &#125;</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">//  @Override</span></span><br><span class="line"><span class="comment">//  public void coding() &#123;</span></span><br><span class="line"><span class="comment">//      // TODO Auto-generated method stub</span></span><br><span class="line"><span class="comment">//      uStu.coding();</span></span><br><span class="line"><span class="comment">//      System.out.println("我会java基础编程了...");</span></span><br><span class="line"><span class="comment">//  &#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure><h5 id="InputStreamReader-amp-OutputStreamWriter"><a href="#InputStreamReader-amp-OutputStreamWriter" class="headerlink" title="InputStreamReader&amp;OutputStreamWriter"></a>InputStreamReader&amp;OutputStreamWriter</h5><ul><li>这两个类用于使用指定的码表读写字符</li><li>FileReader是使用默认码表读取文件, 如果需要使用指定码表读取请使用InputStreamReader(字符流,编码表)</li><li>FileWriter是使用默认码表写出文件, 如果需要使用指定码表写入请使用OutputStreamWriter(字符流,编码表)</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"><span class="comment">/*      InputStreamReader&amp;OutputStreamWriter</span></span><br><span class="line"><span class="comment">        1&gt;这两个类用于使用指定的码表读写字符*/</span></span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//案例1：使用指定 “码表UTF-8&amp;GBK” 读取字符</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * charsetName：字符编码的名称</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"a.txt"</span>);</span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(fis, <span class="string">"UTF-8"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//读一个字符</span></span><br><span class="line">    <span class="comment">/*  System.out.println((char)isr.read());</span></span><br><span class="line"><span class="comment">        System.out.println((char)isr.read());*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//读一行</span></span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(isr);</span><br><span class="line">        System.out.println(br.readLine());</span><br><span class="line">        </span><br><span class="line">        br.close();</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//案例2</span></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 掌握：</span></span><br><span class="line"><span class="comment"> * 1.当读取文件内容，还有写入文件，可以指定编码格式</span></span><br><span class="line"><span class="comment"> * 2.使用InputStreamReader&amp;OutputStreamWriter这个类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> gyf</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">    <span class="comment">/*  OutputStreamWriter</span></span><br><span class="line"><span class="comment">        1&gt;使用指定的编码 写入文件</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.创建Writer</span></span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"c.txt"</span>);</span><br><span class="line">        OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(fos, <span class="string">"GBK"</span>);</span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(osw);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.写</span></span><br><span class="line">        bw.write(<span class="string">"你好，IO流...搞的我有点晕..."</span>);</span><br><span class="line">        bw.newLine();</span><br><span class="line">        bw.write(<span class="string">"你好，IO流...搞的我有点晕..."</span>);</span><br><span class="line">        bw.newLine();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.关流</span></span><br><span class="line">        bw.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>练习:获取文本上字符出现的次数</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 掌握:当键盘敲 enter键，两个字符\r\n : 回车换行</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//练习:获取文本上字符出现的次数,把数据写入文件</span></span><br><span class="line"><span class="comment">/*      思路：</span></span><br><span class="line"><span class="comment">        1.遍历文本每一个字符</span></span><br><span class="line"><span class="comment">        2.字符出现的次数存在Map中</span></span><br><span class="line"><span class="comment">        */</span><span class="comment">/**</span></span><br><span class="line"><span class="comment">         * Map&lt;Character,Integer&gt; map = new HashMap&lt;Character,Integer&gt;();</span></span><br><span class="line"><span class="comment">         * map.put('a',18);</span></span><br><span class="line"><span class="comment">         * map.put('你',2);</span></span><br><span class="line"><span class="comment">         */</span><span class="comment">/*</span></span><br><span class="line"><span class="comment">        3.把map中的数据写入文件*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//==================================</span></span><br><span class="line">        <span class="comment">//1.创建Map集合</span></span><br><span class="line">        Map&lt;Character,Integer&gt; map = <span class="keyword">new</span> HashMap&lt;Character,Integer&gt;();</span><br><span class="line">        <span class="comment">//System.out.println(map.get('a'));</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.遍历每一个字符,每一个字符出现的次数放到map中</span></span><br><span class="line">        FileReader reader = <span class="keyword">new</span> FileReader(<span class="string">"a.txt"</span>);</span><br><span class="line">        <span class="keyword">int</span> c = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>((c = reader.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//int 还原 char</span></span><br><span class="line">            <span class="keyword">char</span> ch = (<span class="keyword">char</span>)c;</span><br><span class="line">            <span class="comment">// 判断char是否在map中第一次出现</span></span><br><span class="line">            <span class="keyword">if</span>(map.get(ch) == <span class="keyword">null</span>)&#123;</span><br><span class="line">                map.put(ch, <span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                map.put(ch, map.get(ch) + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.把map中数据存在文件count.txt</span></span><br><span class="line">        <span class="comment">//3.1 创建Writer</span></span><br><span class="line">        BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"count.txt"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.2 遍历map,再写入数据</span></span><br><span class="line">        <span class="keyword">for</span>(Entry&lt;Character, Integer&gt; entry :map.entrySet())&#123;</span><br><span class="line">            <span class="keyword">switch</span> (entry.getKey()) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">' '</span>:</span><br><span class="line">                bw.write(<span class="string">"空格="</span> + entry.getValue());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'\t'</span>:<span class="comment">//\t表示tab 键字符</span></span><br><span class="line">                bw.write(<span class="string">"tab键="</span> + entry.getValue());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'\r'</span>:<span class="comment">//</span></span><br><span class="line">                bw.write(<span class="string">"回车="</span> + entry.getValue());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">'\n'</span>:<span class="comment">//</span></span><br><span class="line">                bw.write(<span class="string">"换行="</span> + entry.getValue());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                bw.write(entry.getKey() + <span class="string">"="</span> + entry.getValue());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            bw.newLine();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.关流</span></span><br><span class="line">        reader.close();</span><br><span class="line">        bw.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="打印流的概述和特点-掌握"><a href="#打印流的概述和特点-掌握" class="headerlink" title="打印流的概述和特点 (掌握)"></a>打印流的概述和特点 (掌握)</h4><p><strong>什么是打印流</strong></p><p>该流可以很方便的将对象的toString()结果输出, 并且自动加上换行, 而且可以使用自动刷出的模式<br>System.out就是一个PrintStream, 其默认向控制台输出信息<br>PrintStream和PrintWriter分别是打印的字节流和字符流</p><p><strong>打印流的特点</strong></p><p>只有写数据的，没有读数据，只能操作目的地，不能操作数据源</p><p>可以操作任意类型的数据</p><p>如果启动了自动刷新，能够自动刷新</p><p>该流是可以直接操作文本文件的</p><p><strong>启动自动刷新</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PrintWriter pw = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> FileWriter(<span class="string">"pw2.txt"</span>), <span class="keyword">true</span>);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//打印流的概述和特点 (掌握)</span></span><br><span class="line">    <span class="comment">/*  什么是打印流 </span></span><br><span class="line"><span class="comment">        1.该流可以很方便的将对象的toString()结果输出, 并且自动加上换行, 而且可以使用自动刷出的模式</span></span><br><span class="line"><span class="comment">        2.System.out就是一个PrintStream, 其默认向控制台输出信息</span></span><br><span class="line"><span class="comment">        3.PrintStream和PrintWriter分别是打印的字节流和字符流*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.打印的字节流【打印到控制台】</span></span><br><span class="line">        PrintStream ps = System.out;</span><br><span class="line">        ps.println(<span class="string">"你好，元宵节快乐"</span>);<span class="comment">//打印字符串</span></span><br><span class="line">        ps.println(<span class="number">19.6</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.打印的字符流</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 1.PrintWriter调用打印方法，控制台是没有内容，它是把内容写到文件中</span></span><br><span class="line"><span class="comment">         * 2.如果打印了内容，没有调用flush或者close，内容在文件中也不存在</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        PrintWriter pw = <span class="keyword">new</span> PrintWriter(<span class="string">"test.txt"</span>);</span><br><span class="line">        pw.println(<span class="string">"吃汤圆了..."</span>);</span><br><span class="line">        pw.print(<span class="string">"超市一包汤圆10几块钱"</span>);</span><br><span class="line">        pw.print(<span class="number">13.01</span>);</span><br><span class="line">        <span class="comment">//pw.flush();</span></span><br><span class="line">        pw.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="标准输入输出流概述和输出语句-了解"><a href="#标准输入输出流概述和输出语句-了解" class="headerlink" title="标准输入输出流概述和输出语句(了解)"></a>标准输入输出流概述和输出语句(了解)</h4><p>System.in是InputStream, 标准输入流, 默认可以从键盘输入读取字节数据</p><p>System.out是PrintStream, 标准输出流, 默认可以向Console中输出字符和字节数据</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//标准输入输出流概述和输出语句(了解)</span></span><br><span class="line"><span class="comment">/*      System.in是InputStream, 标准输入流, 默认可以从键盘输入读取字节数据</span></span><br><span class="line"><span class="comment">        System.out是PrintStream, 标准输出流, 默认可以向Console中输出字符和字节数据*/</span></span><br><span class="line">        </span><br><span class="line">        InputStream is = System.in;<span class="comment">//标准输入流</span></span><br><span class="line">        PrintStream ps = System.out;<span class="comment">//标准输出流</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="随机访问流概述和读写数据"><a href="#随机访问流概述和读写数据" class="headerlink" title="随机访问流概述和读写数据"></a>随机访问流概述和读写数据</h4><p><strong>随机访问流概述</strong></p><p>RandomAccessFile概述<br>RandomAccessFile类不属于流，是Object类的子类。但它融合了InputStream和OutputStream的功能。<br>支持对随机访问文件的读取和写入。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.RandomAccessFile;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * RandomAccessFile这个类用于文件断点下载</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> gyf</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        <span class="comment">//随机访问流概述和读写数据</span></span><br><span class="line"><span class="comment">/*      随机访问流概述</span></span><br><span class="line"><span class="comment">        RandomAccessFile概述</span></span><br><span class="line"><span class="comment">        RandomAccessFile类不属于流，是Object类的子类。但它融合了InputStream和OutputStream的功能。</span></span><br><span class="line"><span class="comment">        支持对随机访问文件的读取和写入。*/</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 构造方法两个参数：</span></span><br><span class="line"><span class="comment">         * name:文件名称、路径</span></span><br><span class="line"><span class="comment">         * mode:模式 ，r=read 只读、 w=write</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        <span class="comment">//1.创建一个随机访问流对象，以读写的方式打开文件</span></span><br><span class="line">        RandomAccessFile raf = <span class="keyword">new</span> RandomAccessFile(<span class="string">"a.txt"</span>, <span class="string">"rw"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.读字符</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 使用RandomAccessFile的readChar/readLine方法读文件有乱码问题</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line"><span class="comment">/*      System.out.println(raf.readChar());</span></span><br><span class="line"><span class="comment">        System.out.println(raf.readChar());</span></span><br><span class="line"><span class="comment">        System.out.println(raf.readChar());</span></span><br><span class="line"><span class="comment">        System.out.println(raf.readLine());*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//使用字节数组来读比较好</span></span><br><span class="line"><span class="comment">/*      byte[] buf = new byte[1024];</span></span><br><span class="line"><span class="comment">        int len;</span></span><br><span class="line"><span class="comment">        while((len = raf.read(buf)) != -1)&#123;</span></span><br><span class="line"><span class="comment">            System.out.println(new String(buf,0,len));</span></span><br><span class="line"><span class="comment">        &#125;*/</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.写数据</span></span><br><span class="line">        <span class="comment">//raf.writeChars("abc");</span></span><br><span class="line">        <span class="comment">//raf.writeBytes("abc");</span></span><br><span class="line">        raf.seek(<span class="number">4</span>);<span class="comment">//指定位置</span></span><br><span class="line">        raf.write(<span class="number">97</span>);</span><br><span class="line">        raf.write(<span class="number">98</span>);</span><br><span class="line">        raf.write(<span class="number">99</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Properties的概述和作为Map集合的使用"><a href="#Properties的概述和作为Map集合的使用" class="headerlink" title="Properties的概述和作为Map集合的使用"></a>Properties的概述和作为Map集合的使用</h4><p><strong>Properties的概述</strong></p><p>Properties 类表示了一个持久的属性集。</p><p>Properties 可保存在流中或从流中加载。</p><p>属性列表中每个键及其对应值都是一个字符串。</p><p>是Hashtable的子类，说明是一个map集合</p><p><strong>方法</strong></p><p>Properties的load()和store()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">load</span><span class="params">(Reader reader)</span></span>;<span class="comment">//把文件中的数据读取到集合中</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">store</span><span class="params">(Writer writer,String comments)</span></span>;<span class="comment">//把集合中的数据存储到文件</span></span><br></pre></td></tr></table></figure><p>public Object setProperty(String key,String value)</p><p>public String getProperty(String key)</p><p>public Enumeration<string>stringPropertyNames()</string></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.time.Period;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//Properties的概述和作为Map集合的使用【掌握-经常用】</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * Properties:属性</span></span><br><span class="line"><span class="comment">            1.Properties 类表示了一个持久的属性集。</span></span><br><span class="line"><span class="comment">            2.Properties 可保存在流中或从流中加载。</span></span><br><span class="line"><span class="comment">            3.属性列表中每个键及其对应值都是一个字符串。</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//遍历properties所有属性key和值value</span></span><br><span class="line">        <span class="comment">//1.创建属性对象</span></span><br><span class="line">        Properties p = <span class="keyword">new</span> Properties();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.关联文件</span></span><br><span class="line">        p.load(<span class="keyword">new</span> FileInputStream(<span class="string">"info.properties"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.遍历一</span></span><br><span class="line">        Set&lt;Object&gt; keys = p.keySet();</span><br><span class="line">        <span class="keyword">for</span>(Object key : keys)&#123;</span><br><span class="line">            System.out.println(key + <span class="string">"="</span> + p.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//System.out.println(keys);</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//4.遍历二</span></span><br><span class="line">        System.out.println(<span class="string">"====================="</span>);</span><br><span class="line">        <span class="comment">//p.entrySet();</span></span><br><span class="line">        <span class="keyword">for</span>(Entry&lt;Object, Object&gt; entry :p.entrySet())&#123;</span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">"="</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> IOException, FileNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">//使用Properties读取数据</span></span><br><span class="line">        <span class="comment">//1.创建属性对象</span></span><br><span class="line">        Properties p = <span class="keyword">new</span> Properties();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.关联文件</span></span><br><span class="line">        p.load(<span class="keyword">new</span> FileInputStream(<span class="string">"info.properties"</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.通过key读数据</span></span><br><span class="line">        String name = p.getProperty(<span class="string">"name"</span>);</span><br><span class="line">        String city = p.getProperty(<span class="string">"city"</span>);</span><br><span class="line">        String hometown = p.getProperty(<span class="string">"hometown"</span>);</span><br><span class="line">        System.out.println(name);</span><br><span class="line">        System.out.println(city);</span><br><span class="line">        System.out.println(hometown);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用Properties来存储数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> IOException, FileNotFoundException </span>&#123;</span><br><span class="line">        <span class="comment">//1.创建属性对象</span></span><br><span class="line">        Properties p = <span class="keyword">new</span> Properties();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.存数据</span></span><br><span class="line">        p.setProperty(<span class="string">"name"</span>, <span class="string">"gyf"</span>);</span><br><span class="line">        p.setProperty(<span class="string">"city"</span>, <span class="string">"广州"</span>);</span><br><span class="line">        p.setProperty(<span class="string">"hometown"</span>, <span class="string">"梅州"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.关联文件</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 当Properties把key和value存入文件，把中文转成unicode编码</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">        p.store(<span class="keyword">new</span> FileOutputStream(<span class="string">"info.properties"</span>), <span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//捋一捋IO流</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">         * 一、IO流-输入输出流</span></span><br><span class="line"><span class="comment">         * I:input</span></span><br><span class="line"><span class="comment">         * O:out</span></span><br><span class="line"><span class="comment">         * IO流 操作文件，读取文件内容，往文件写内容</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * 二、字节流</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * &gt;InputStream</span></span><br><span class="line"><span class="comment">         *  -FileInputStream 文件输入流，读的单位是字节</span></span><br><span class="line"><span class="comment">         *  -BufferedInputStream 缓冲输入流，内部有个byte[]字节数组</span></span><br><span class="line"><span class="comment">         *  -SequenceInputStream 序列流，把多个字节流整合成一个流</span></span><br><span class="line"><span class="comment">         *  -ObjectInputStream 对象输入流，直接从文件中读取一个对象,这个对象要实现serilazable接口</span></span><br><span class="line"><span class="comment">         *  -Sytem.in 标准输入流-指键盘</span></span><br><span class="line"><span class="comment">         *  -DataInputStream 数据输入流，按基本数据类型的大小(long) 读取文件</span></span><br><span class="line"><span class="comment">         *  </span></span><br><span class="line"><span class="comment">         * &gt;OutputStream</span></span><br><span class="line"><span class="comment">         *  -FileOutputStream 文件输出流，写的单位是字节</span></span><br><span class="line"><span class="comment">         *  -BufferedOutputStream 缓冲输出流，内部有个byte[]字节数组</span></span><br><span class="line"><span class="comment">         *  -ByteArrayOutputStream 字节数组输出流，把数据读取到内存中，这个类不需要关联文件</span></span><br><span class="line"><span class="comment">         *  -ObjectOutputStream 对象输出流，直接把一个对象存入文件，</span></span><br><span class="line"><span class="comment">         *  -PrintStream 打印流，把内容打印到控制台</span></span><br><span class="line"><span class="comment">         *  -System.out 标准输出流-指控制台</span></span><br><span class="line"><span class="comment">         *  -DataOutputStream 数据输出流，按基本数据类型的大小(long) 写入文件</span></span><br><span class="line"><span class="comment">         *  </span></span><br><span class="line"><span class="comment">         * 三、字符流</span></span><br><span class="line"><span class="comment">         * &gt;Reader</span></span><br><span class="line"><span class="comment">         *  -FileReader 文件读取流，读取的单位是字符</span></span><br><span class="line"><span class="comment">         *  -BufferedReader 缓冲读取流，内部有个char[] 字符数组</span></span><br><span class="line"><span class="comment">         *  -InputStreamReader 指定字符编码读取文件</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * &gt;Writer</span></span><br><span class="line"><span class="comment">         *  -FileWriter 文件写入流,写入的单位是字符</span></span><br><span class="line"><span class="comment">         *  -BufferedWriter,缓冲写入流，内部有个char[] 字符数组</span></span><br><span class="line"><span class="comment">         *  -OutputStreamWriter 指定字符编码写入文件</span></span><br><span class="line"><span class="comment">         *  -PrintWriter 打印流，把内容打印一个文件</span></span><br><span class="line"><span class="comment">         *  </span></span><br><span class="line"><span class="comment">         *  </span></span><br><span class="line"><span class="comment">         * RandomAccessFile 随机访问流，特点：读和写都在一个类中</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">         * Properties 相当于Map一样使用，这个类把数据存在一个后缀名为.properties文件</span></span><br><span class="line"><span class="comment">         */</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">----------------本文结束<i class="fa fa-heart"></i>感谢阅读----------------</div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong> Goya</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://www.ysmjjsy.com/category/JavaSE-IO/" title="JavaSE-IO流">https://www.ysmjjsy.com/category/JavaSE-IO/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/Java基础入门/" rel="tag"><i class="fa fa-tag"></i> Java基础入门</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/category/JavaSE-异常/" rel="next" title="JavaSE-异常"><i class="fa fa-chevron-left"></i> JavaSE-异常</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/category/JavaSE-API/" rel="prev" title="JavaSE-API">JavaSE-API <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"><div class="addthis_inline_share_toolbox"><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5d44446d8ec752bd" async></script></div></div></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Goya"><p class="site-author-name" itemprop="name">Goya</p><p class="site-description motion-element" itemprop="description">愿你走出半生，归来仍是少年</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">37</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">50</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">9</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/GoyaDo" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://blog.csdn.net/a773949603" target="_blank" title="CSDN"><i class="fa fa-fw fa-copyright"></i>CSDN</a> </span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/lemondeah/activities" target="_blank" title="知乎"><i class="fa fa-fw fa-zhihu"></i>知乎</a> </span><span class="links-of-author-item"><a href="https://weibo.com/u/6606679478" target="_blank" title="微博"><i class="fa fa-fw fa-weibo"></i>微博</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://me.csdn.net/sinyu890807" title="郭霖" target="_blank">郭霖</a></li><li class="links-of-blogroll-item"><a href="https://www.zhihu.com/people/huangsunting/activities" title="bravo1988" target="_blank">bravo1988</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#File类"><span class="nav-number">1.</span> <span class="nav-text">File类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#构造方法："><span class="nav-number">1.1.</span> <span class="nav-text">构造方法：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#File类的方法"><span class="nav-number">1.2.</span> <span class="nav-text">File类的方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#递归"><span class="nav-number">1.3.</span> <span class="nav-text">递归</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#递归的三个条件："><span class="nav-number">1.3.1.</span> <span class="nav-text">递归的三个条件：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#递归注意实现"><span class="nav-number">1.3.2.</span> <span class="nav-text">递归注意实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#递归5的阶乘"><span class="nav-number">1.3.3.</span> <span class="nav-text">递归5的阶乘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#递归问题"><span class="nav-number">1.3.4.</span> <span class="nav-text">递归问题</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IO流"><span class="nav-number">2.</span> <span class="nav-text">IO流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#四大基本Stream"><span class="nav-number">2.1.</span> <span class="nav-text">四大基本Stream</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#字节流"><span class="nav-number">2.1.1.</span> <span class="nav-text">字节流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#InputStream"><span class="nav-number">2.1.1.1.</span> <span class="nav-text">InputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#FileInputStream"><span class="nav-number">2.1.1.1.1.</span> <span class="nav-text">FileInputStream</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DataInputSteam"><span class="nav-number">2.1.1.1.2.</span> <span class="nav-text">DataInputSteam</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ByteArrayInputStream"><span class="nav-number">2.1.1.1.3.</span> <span class="nav-text">ByteArrayInputStream</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#SequenceInputStream-序列流"><span class="nav-number">2.1.1.1.4.</span> <span class="nav-text">SequenceInputStream 序列流</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OutputStream"><span class="nav-number">2.1.1.2.</span> <span class="nav-text">OutputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#FileInputStream-1"><span class="nav-number">2.1.1.2.1.</span> <span class="nav-text">FileInputStream</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#DataOutputSteam"><span class="nav-number">2.1.1.2.2.</span> <span class="nav-text">DataOutputSteam</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#ByteArrayOutputStream"><span class="nav-number">2.1.1.2.3.</span> <span class="nav-text">ByteArrayOutputStream</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#对象操作流ObjecOutputStream-amp-ObjecInputStream-（了解）"><span class="nav-number">2.1.1.2.4.</span> <span class="nav-text">对象操作流ObjecOutputStream&amp; ObjecInputStream （了解）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#序列化"><span class="nav-number">2.1.1.2.5.</span> <span class="nav-text">序列化</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#IO-编码表"><span class="nav-number">2.1.1.3.</span> <span class="nav-text">IO-编码表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#BufferedInputStream和BufferOutputStream"><span class="nav-number">2.1.1.4.</span> <span class="nav-text">BufferedInputStream和BufferOutputStream</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#带Buffered的流和自己写的数组缓冲对比"><span class="nav-number">2.1.1.4.1.</span> <span class="nav-text">带Buffered的流和自己写的数组缓冲对比</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#BufferOutputStream的flush和close方法的区别"><span class="nav-number">2.1.1.4.2.</span> <span class="nav-text">BufferOutputStream的flush和close方法的区别</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#字节流读写中文乱码问题"><span class="nav-number">2.1.1.4.3.</span> <span class="nav-text">字节流读写中文乱码问题</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#流的标准处理代码"><span class="nav-number">2.1.1.4.4.</span> <span class="nav-text">流的标准处理代码</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#练习"><span class="nav-number">2.1.1.4.5.</span> <span class="nav-text">练习</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符流"><span class="nav-number">2.1.2.</span> <span class="nav-text">字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Reader"><span class="nav-number">2.1.2.1.</span> <span class="nav-text">Reader</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Writer"><span class="nav-number">2.1.2.2.</span> <span class="nav-text">Writer</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#FileReader读取字符流"><span class="nav-number">2.1.2.2.1.</span> <span class="nav-text">FileReader读取字符流</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#FileWiter-写入字符流"><span class="nav-number">2.1.2.2.2.</span> <span class="nav-text">FileWiter 写入字符流</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#案例-字符流的拷贝"><span class="nav-number">2.1.2.2.3.</span> <span class="nav-text">案例:字符流的拷贝</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#使用字符流的场景"><span class="nav-number">2.1.2.2.4.</span> <span class="nav-text">使用字符流的场景</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#带缓冲的字符流-BufferedReader-BufferedWriter"><span class="nav-number">2.1.2.2.5.</span> <span class="nav-text">带缓冲的字符流 BufferedReader/BufferedWriter</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#装饰-Decorator-设计模式"><span class="nav-number">2.1.2.3.</span> <span class="nav-text">装饰(Decorator)设计模式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#InputStreamReader-amp-OutputStreamWriter"><span class="nav-number">2.1.2.3.1.</span> <span class="nav-text">InputStreamReader&amp;OutputStreamWriter</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#打印流的概述和特点-掌握"><span class="nav-number">2.1.2.4.</span> <span class="nav-text">打印流的概述和特点 (掌握)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#标准输入输出流概述和输出语句-了解"><span class="nav-number">2.1.2.5.</span> <span class="nav-text">标准输入输出流概述和输出语句(了解)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#随机访问流概述和读写数据"><span class="nav-number">2.1.2.6.</span> <span class="nav-text">随机访问流概述和读写数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Properties的概述和作为Map集合的使用"><span class="nav-number">2.1.2.7.</span> <span class="nav-text">Properties的概述和作为Map集合的使用</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#小结"><span class="nav-number">2.1.3.</span> <span class="nav-text">小结</span></a></li></ol></li></ol></li></ol></div></div></section><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019-09-19</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Goya</span></div><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>function createtime(){var n=new Date("07/03/2018 14:13:22");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="网站已运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}var now=new Date;setInterval("createtime()",250)</script><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i> 网站总访客数 <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> 人次 </span><span class="site-pv"><i class="fa fa-eye"></i> 总访问量 <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> 次</span></div></div></footer></div><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="https://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script type="text/javascript">var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'BuVPeD8Q1vkGqU4nrrrSUa9y-gzGzoHsz',
        appKey: '0SU6m8Ctovo9j6oHFbNVyHPv',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html><script type="text/javascript" src="/js/src/love.js"></script><!-- rebuild by neat -->