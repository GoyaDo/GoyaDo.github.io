<!-- build time:Thu Sep 19 2019 15:13:33 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next gemini use-motion" lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="theme-color" content="#222"><meta name="google-site-verification" content="EmMIJLWJtXQxrrJkM-F8VfTiJjK7ASyFu9OBx-ZlSRo"><meta name="baidu-site-verification" content="XVGOi3sgWa"><script></script><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="baidu-site-verification" content="Kljn7UFZcB"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4"><link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222"><meta name="keywords" content="Struts2入门"><link rel="alternate" href="/atom.xml" title="余生梦见皆是缘" type="application/atom+xml"><meta name="description" content="SSH框架-Struts2入门"><meta name="keywords" content="Struts2入门"><meta property="og:type" content="article"><meta property="og:title" content="SSH框架-Struts2"><meta property="og:url" content="https://www.ysmjjsy.com/category/Struts2/index.html"><meta property="og:site_name" content="余生梦见皆是缘"><meta property="og:description" content="SSH框架-Struts2入门"><meta property="og:locale" content="zh-Hans"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/6.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/7.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/8.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/9.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/10.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/a1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/a2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/a3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/a4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/a5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/a6.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/a7.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/a8.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/b1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/b2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/b3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/b4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/b5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/c1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/c2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/c3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/c4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/c5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/c6.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/c7.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/c8.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/d1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/d2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/d3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/d4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/d5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/d6.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/d7.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/d8.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/d9.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e6.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e7.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e8.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e9.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e10.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e11.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e12.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e13.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e14.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e15.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/f1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/f2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/f3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/f4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/f5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/f6.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/f7.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/f8.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/f9.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/g1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/g2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/g3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/g4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/g5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/g6.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/g7.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/g8.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/q1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/q2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/q3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/q4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/q5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/q6.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/q7.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/q8.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/q9.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/w1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/w2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/w3.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/w4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/w5.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/w6.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e1%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e2%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e3%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e4%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e5%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e6%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e7%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e8%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e9%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e10%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e11%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/e12%20[2].png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/r1.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/r2.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/r4.png"><meta property="og:image" content="https://www.ysmjjsy.com/category/Struts2/r5.png"><meta property="og:updated_time" content="2019-09-18T08:00:10.214Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="SSH框架-Struts2"><meta name="twitter:description" content="SSH框架-Struts2入门"><meta name="twitter:image" content="https://www.ysmjjsy.com/category/Struts2/1.png"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Gemini",version:"5.1.4",sidebar:{position:"left",display:"post",offset:12,b2t:!0,scrollpercent:!0,onmobile:!1},fancybox:!0,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},duoshuo:{userId:"0",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="https://www.ysmjjsy.com/category/Struts2/"><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"6e2c9585"}),daovoice("update")</script><title>SSH框架-Struts2 | 余生梦见皆是缘</title><script>!function(e,t,a,n,c,s,o){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,s=t.createElement(a),o=t.getElementsByTagName(a)[0],s.async=1,s.src=n,o.parentNode.insertBefore(s,o)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-145122509-1","auto"),ga("send","pageview")</script><script type="text/javascript">var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?45ce68cbde829747ea3eed77723e1cf4";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><a href="https://github.com/GoyaDo" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513;color:#fff;position:absolute;top:0;border:0;right:0" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style><header id="header" class="header" itemscope itemtype="https://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">余生梦见皆是缘</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle"></p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archives"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="https://www.ysmjjsy.com/category/Struts2/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Goya"><meta itemprop="description" content><meta itemprop="image" content="/images/avatar.jpg"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="余生梦见皆是缘"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">SSH框架-Struts2</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-09-13T00:00:00+08:00">2018-09-13 </time><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-calendar-check-o"></i> </span><span class="post-meta-item-text">更新于&#58;</span> <time title="更新于" itemprop="dateModified" datetime="2019-09-18T16:00:10+08:00">2019-09-18 </time></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/SSH框架/" itemprop="url" rel="index"><span itemprop="name">SSH框架</span> </a></span>， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/SSH框架/Struts2/" itemprop="url" rel="index"><span itemprop="name">Struts2</span> </a></span></span><span class="post-comments-count"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-comment-o"></i> </span><a href="/category/Struts2/#comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/category/Struts2/" itemprop="commentCount"></span> </a></span><span class="post-meta-divider">|</span> <span class="page-pv"><i class="fa fa-file-o"></i> <span class="busuanzi-value" id="busuanzi_value_page_pv"></span></span><div class="post-wordcount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">字数统计&#58;</span> <span title="字数统计">4k 字 </span><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">14 分钟</span></div><div class="post-description">SSH框架-Struts2入门</div></div></header><div class="post-body" itemprop="articleBody"><h1 id="Struts2"><a href="#Struts2" class="headerlink" title="Struts2"></a>Struts2</h1><blockquote><p>软件=应用组件+业务组件<br>应用组件可以写成框架，框架开发方便很多，是半成品的软件。<br>框架的性能问题：低</p></blockquote><p>Struts2框架：Struts2=WebWork+Struts名字+杂七杂八<br>MVC框架：(jsp+servlet)+service+dao<br>Struts1和Struts2没关系<br>WebWork内核是XWork<br><strong>Struts2版本：2.3.24 </strong>Web层常见框架：** struts2、springMVC</p><h2 id="Struts简单模型"><a href="#Struts简单模型" class="headerlink" title="Struts简单模型"></a>Struts简单模型</h2><p><img src="/category/Struts2/1.png" alt="Struts2"></p><p><img src="/category/Struts2/2.png" alt="Struts2"></p><p><img src="/category/Struts2/3.png" alt="Struts2"></p><p><strong>工作流程：</strong><br>（1）客户端浏览器发送HTTP请求到Web应用<br>（2）Web容器将请求传递到标准ActionContextCleanUp过滤器以消除属性，而不让后续过滤器清楚，以延长Action中属性（包括自定义属性）的生命周期。<br>（3）再经过如stimesh等其他过滤器后，请求传递给StrutsPrepareAndExecuteFilter核心控制器<br>（4）StrutsPrepareAndExecuteFilter调用ActionMapper（Action映射器）确定调用哪个Action，再将控制权转移给ActionProxy代理<br>（5）ActionProxy代理调用配置管理器ConfigurationManager从配置文件struts.xml中读取配置信息，然后创建ActionInvocation对象<br>（6）ActionInvocation在调用拦截器链中的拦截器后再调用Action，根据Action返回的结果字符串查找对应的Result<br>（7）Result调用视图模板，再以相反的顺序执行拦截器链，返回HTTP响应<br>（8）HTTP响应以相反的顺序返回给核心控制器StrutsPrepareAndExecuteFilter以及其他web.xml中定义的过滤器，最终返回给客户端。</p><h2 id="Struts2搭建"><a href="#Struts2搭建" class="headerlink" title="Struts2搭建"></a>Struts2搭建</h2><p><strong>Struts2搭建流程</strong></p><ol><li><p>下载Struts2jar包</p></li><li><p>创建空项目</p></li><li><p>导包：lib中有jar包，不是都用的上；在apps目录里面，找到示例程序，从示例程序复制jar包：blank.war</p></li><li><p>配置核心控制器</p><p><img src="/category/Struts2/4.png" alt="Struts2"></p></li><li><p>添加struts配置文件：在src目录下创建struts.xml</p><p><img src="/category/Struts2/5.png" alt="Struts2"></p></li><li><p>创建start.jsp</p><p><img src="/category/Struts2/6.png" alt="Struts2"></p></li><li><p>写一个Action类：每次访问action，默认执行名称execute方法</p><p><img src="/category/Struts2/7.png" alt="Struts2"></p></li><li><p>配置文件src下面：struts.xml：</p><p><img src="/category/Struts2/8.png" alt="Struts2"></p><p>​</p></li><li><p>补充：添加结果的配置</p><p><img src="/category/Struts2/9.png" alt="Struts2"></p></li><li><p>引入dtd约束</p></li><li><p>在Action中添加返回值</p><p><img src="/category/Struts2/10.png" alt="Struts2"></p></li><li><p><a href="http://localhost:8080/项目名/xxx.action" target="_blank" rel="noopener">http://localhost:8080/项目名/xxx.action</a></p></li></ol><h2 id="Struts2基本执行过程"><a href="#Struts2基本执行过程" class="headerlink" title="Struts2基本执行过程"></a>Struts2基本执行过程</h2><p><img src="/category/Struts2/a1.png" alt="Struts2"></p><p>过滤器在服务器创建时候创建，创建过滤器时候执行init方法</p><p>在init方法中加载配置文件</p><p>包含自己创建的配置文件和struts2自带配置文件：struts.xml、web.xml</p><h2 id="Struts2配置"><a href="#Struts2配置" class="headerlink" title="Struts2配置"></a>Struts2配置</h2><p>struts2位置与名称是固定的</p><p>根标签：struts</p><h3 id="在配置文件中主要三个标签"><a href="#在配置文件中主要三个标签" class="headerlink" title="在配置文件中主要三个标签"></a>在配置文件中主要三个标签</h3><h4 id="package"><a href="#package" class="headerlink" title="package"></a>package</h4><p><strong>类似于代码包，区分不同的action，要配置action，必须先写package，再写action</strong></p><p>package标签属性：</p><ul><li>name属性：<ul><li>name属性属性值跟功能本身没有关系</li><li>在一个配置文件可以写多个package标签，name属性值不能相同</li></ul></li><li>extends属性：<ul><li>属性值是固定的：extends=”struts-default”</li><li>写了这个属性之后，在package里面配置的类具有action功能</li></ul></li><li>namespace属性：<ul><li>namespace属性值和action标签里的name属性值构成访问路径，可以不写，默认是”/“</li></ul></li></ul><h4 id="action"><a href="#action" class="headerlink" title="action"></a>action</h4><p><strong>action标签配置action访问路径</strong></p><p>action标签属性：</p><ul><li>name属性：<ul><li>namespace属性值和action标签里的name属性值构成访问路径</li><li>在package标签里写多个action标签，但action的name属性值不能相同的</li></ul></li><li>class属性：<ul><li>action的全路径</li></ul></li><li>method：<ul><li>比如在action里面默认执行execute方法，但是在action里面写其他的方法</li><li>让action里面多个方法执行，使用method进行配置</li></ul></li></ul><h4 id="result"><a href="#result" class="headerlink" title="result"></a>result</h4><p><strong>根本action的方法返回值，配置到不同的路径里面</strong></p><ul><li>name属性：<ul><li>和方法返回值一样</li></ul></li><li>type属性：<ul><li>配置如何到路径中（转发或重定向）</li><li>默认做的转发操作</li></ul></li></ul><h3 id="修改struts2默认常量值"><a href="#修改struts2默认常量值" class="headerlink" title="修改struts2默认常量值"></a>修改struts2默认常量值</h3><p><strong>常用方式：</strong></p><p>在struts.xml中进行配置：</p><p><img src="/category/Struts2/a2.png" alt="Struts2"></p><p>struts.properties进行修改<br>web.xml进行配置<br><strong>最常用常量：</strong></p><p><img src="/category/Struts2/a3.png" alt="Struts2"></p><p>表单提交数据到action里面，在action可以获取表单提交数据</p><p><strong>表单提交数据有中文，乱码问题：</strong></p><ul><li>POST提交直接设置编码</li><li>GET提交做编码转换</li></ul><p>如果在action获取表单通过post方式提交中文，中文乱码问题帮解决了，不需要自己处理问题</p><h2 id="分模块开发"><a href="#分模块开发" class="headerlink" title="分模块开发"></a>分模块开发</h2><p>单独写配置文件，把配置文件引入到核心配置为文件中</p><p><img src="/category/Struts2/a4.png" alt="Struts2"></p><h2 id="Action的编写方式"><a href="#Action的编写方式" class="headerlink" title="Action的编写方式"></a>Action的编写方式</h2><p><strong>action编写有三种方法：</strong></p><ul><li>第一种：创建普通类，这个不继承任何类，不实现任何接口</li><li>第二种：创建类，实现接口Action</li><li><strong>第三种：创建类，继承类ActionSupport</strong></li></ul><h2 id="Action方法访问介绍"><a href="#Action方法访问介绍" class="headerlink" title="Action方法访问介绍"></a>Action方法访问介绍</h2><p>三种方式实现</p><ul><li><strong>第一种：使用action标签的method属性，在这个属性里面写执行的action方法</strong></li><li><strong>第二种：使用通配符方式实现</strong></li><li>第三种：动态访问实现（不用）</li></ul><p>如果action方法有返回值，在配置文件中没有配置，出现错误：404<br>action里面的方法有返回值，如果有返回值时候类型必须是String<br>action里面的方法可以没有返回值， 没有返回值的时候，在result标签不需要配置：<br>把方法写出void<br>让返回值，返回”none”</p><h3 id="使用method属性"><a href="#使用method属性" class="headerlink" title="使用method属性"></a>使用method属性</h3><p><img src="/category/Struts2/a5.png" alt="Struts2"></p><p><img src="/category/Struts2/a6.png" alt="Struts2"></p><p>缺陷：action每个方法都需要配置，如果action里面有多个方法，配置很多的action</p><h3 id="使用通配符实现"><a href="#使用通配符实现" class="headerlink" title="使用通配符实现"></a>使用通配符实现</h3><p>在action标签里面name属性，name属性里面写上* 号：理解：可以匹配任意内容</p><p><img src="/category/Struts2/a7.png" alt="Struts2"></p><p><img src="/category/Struts2/a8.png" alt="Struts2"></p><h3 id="全局结果页面"><a href="#全局结果页面" class="headerlink" title="全局结果页面"></a>全局结果页面</h3><p>result标签配置action方法的返回值到不同的页面<br>如果多个action，方法里面返回值相同的，到页面也是相同的，这个时候可以使用全局页面配置<br>在package标签里面进行配置：只生效于当前package</p><p><img src="/category/Struts2/b1.png" alt="Struts2"></p><h3 id="局部结果页面"><a href="#局部结果页面" class="headerlink" title="局部结果页面"></a>局部结果页面</h3><p>配置了全局，也配置了局部，最终以局部为准</p><p><strong>Result标签的type属性：</strong><br>result标签里面除了name属性之外，还有一个属性type属性<br>type属性：如何到路径里面（转发还是重定向）<br>type属性值：<br>默认值：做转发操作，值是dispatcher</p><p><img src="/category/Struts2/b2.png" alt="Struts2"></p><p>做重定向操作，值是redirect</p><p><img src="/category/Struts2/b3.png" alt="Struts2"></p><p><img src="/category/Struts2/b4.png" alt="Struts2"></p><p>dispatcher、redirect这两个值一般针对到页面中配置，配置到其他的action里面：<br>chain：转发到action，一般不用，缓存问题<br>redirectAction：重定向到action（写action访问名称）</p><p><img src="/category/Struts2/b5.png" alt="Struts2"></p><h2 id="使用ActionContext获取表单数据"><a href="#使用ActionContext获取表单数据" class="headerlink" title="使用ActionContext获取表单数据"></a>使用ActionContext获取表单数据</h2><p>之前web阶段，提交表单到servlet里面，在servlet里面使用request对象里面的方法获取，getParameter，getParameterMap方法。<br>提交表单到action，但是action没有request对象，不能直接使用request对象<br>action获取表单提交数据主要三种方式</p><ol><li><p><strong>使用ActionContext类、</strong></p><p><strong>方法：</strong></p><p><img src="/category/Struts2/c1.png" alt="Struts2"></p><p>因为方法不是静态方法，需要创建ActionContext类的对象</p><p>这个ActionContext类对象不是new出来的</p><p><img src="/category/Struts2/c2.png" alt="Struts2"></p><p><strong>演示：</strong></p><p>创建表单，提交表单到action里面</p><p>在action使用ActionContext获取数据</p><p><img src="/category/Struts2/c3.png" alt="Struts2"></p></li><li><p><strong>使用ServletActionContext类</strong></p><p><img src="/category/Struts2/c4.png" alt="Struts2"></p><p>调用类里的静态方法，得到request对象</p><p><img src="/category/Struts2/c5.png" alt="Struts2"></p></li><li><p>使用接口注入方式（一般不用）</p><p>让action实现接口，得到request对象</p><p><img src="/category/Struts2/c6.png" alt="Struts2"></p><p><img src="/category/Struts2/c7.png" alt="Struts2"></p></li></ol><h2 id="在Action操作域对象"><a href="#在Action操作域对象" class="headerlink" title="在Action操作域对象"></a>在Action操作域对象</h2><p>request、session、servletContext对象</p><p><img src="/category/Struts2/c8.png" alt="Struts2"></p><h3 id="Struts2封装获取表单数据方式"><a href="#Struts2封装获取表单数据方式" class="headerlink" title="Struts2封装获取表单数据方式"></a>Struts2封装获取表单数据方式</h3><p><strong>原始方式获取表单封装到实体对象：</strong><br>使用ServletActionContext获取表单数据封装到实体类对象里面</p><p><img src="/category/Struts2/d1.png" alt="Struts2"></p><p><strong>Struts2提供的封装方式：</strong></p><h4 id="属性封装："><a href="#属性封装：" class="headerlink" title="属性封装："></a><strong>属性封装：</strong></h4><p>直接把表单提交属性封装到action的属性里面<br><strong>实现步骤：</strong></p><ol><li>在action成员变量位置定义变量</li><li>变量名称和表单输入项的name属性值一样</li><li>生成变量的set方法（set和get方法都写出来）</li></ol><p>使用属性封装获取表单数据到属性里面，不能把数据直接封装到实体类对象里面</p><h4 id="模型驱动封装："><a href="#模型驱动封装：" class="headerlink" title="模型驱动封装："></a><strong>模型驱动封装：</strong></h4><p>使用模型驱动方式，可以直接把表单数据封装到实体类对象里面<br>前提要求：表单输入项name属性值和实体类属性名称一样<br><strong>实现步骤：</strong></p><ol><li><p>action实现接口ModelDriven</p><p><img src="/category/Struts2/d2.png" alt="Struts2"></p></li><li><p>实现接口里面的方法，getModel方法。把创建对象返回</p></li><li><p>在action里面创建实体类对象</p><p><img src="/category/Struts2/d3.png" alt="Struts2"></p></li></ol><p>使用模型驱动和属性封装注意问题：</p><p>在一个action中，获取表单数据可以属性封装，使用模型驱动封装，不能同时使用属性封装和模型驱动封装获取同一表单数据，如果同时使用，只执行模型驱动</p><h4 id="表达式封装：（会用）"><a href="#表达式封装：（会用）" class="headerlink" title="表达式封装：（会用）"></a>表达式封装：（会用）</h4><p>实现过程：</p><p>使用表达式封装可以把表单数据封装到实体类对象里面</p><ol><li>第一步：在action里面声明实体类</li><li>第二步：生成实体类变量的set和get方法</li></ol><p><img src="/category/Struts2/d4.png" alt="Struts2"></p><ol><li><p>第三步：在表单输入项的name属性值里面写表达式形式</p><p><img src="/category/Struts2/d5.png" alt="Struts2"></p></li></ol><h4 id="比较表达式封装和模型驱动封装"><a href="#比较表达式封装和模型驱动封装" class="headerlink" title="比较表达式封装和模型驱动封装"></a>比较表达式封装和模型驱动封装</h4><p>使用表达式封装和模型驱动封装都可以把数据封装到实体类对象里面<br>不同点：</p><ul><li>使用模型驱动只能把数据封装到一个实体类里面</li><li>在一个action里面不能使用模型驱动把数据封装到不同的实体类对象里面</li><li>使用表达式封装可以把数据封装到不同的实体类里面</li></ul><h3 id="封装数据到集合"><a href="#封装数据到集合" class="headerlink" title="封装数据到集合"></a>封装数据到集合</h3><h4 id="封装数据到list集合："><a href="#封装数据到list集合：" class="headerlink" title="封装数据到list集合："></a><strong>封装数据到list集合：</strong></h4><ol><li><p>第一步：在action声明List</p></li><li><p>第二步：生成list变量的set和get方法</p><p><img src="/category/Struts2/d6.png" alt="Struts2"></p></li><li><p>第三步：在表单输入项里面写表达式</p><p><img src="/category/Struts2/d7.png" alt="Struts2"></p></li></ol><h4 id="封装到Map集合："><a href="#封装到Map集合：" class="headerlink" title="封装到Map集合："></a><strong>封装到Map集合：</strong></h4><ol><li><p>第一步：声明map集合</p></li><li><p>第二步：生成get和set方法</p><p><img src="/category/Struts2/d8.png" alt="Struts2"></p></li><li><p>第三步：在表单输入项的name属性值里面写表达式</p><p><img src="/category/Struts2/d9.png" alt="Struts2"></p></li></ol><h2 id="OGNL表达式"><a href="#OGNL表达式" class="headerlink" title="OGNL表达式"></a>OGNL表达式</h2><p>EL表达式在jsp中获取域对象里面的值<br>OGNL表达式：在struts2里面操作值栈数据，一般把ognl在struts2操作：和struts2标签一起使用操作值栈</p><p><img src="/category/Struts2/e1.png" alt="Struts2"></p><p>使用OGNL时候先导入jar包，struts2有jar包</p><p>导入标签库：</p><p><img src="/category/Struts2/e2.png" alt="Struts2"></p><p><img src="/category/Struts2/e3.png" alt="Struts2"></p><h2 id="值栈"><a href="#值栈" class="headerlink" title="值栈"></a>值栈</h2><p>web阶段，在servlet里面进行操作，把数据放到域对象里面，在页面中使用el表达式获取到，域对象在一定范围内，存值和取值<br>struts2里面提供本身一种存储机制，类似于域对象，是值栈，可以存值和取值<br>在action里面把数据放到值栈里面，在页面中获取到值栈数据<br><strong>servlet和action区别：</strong></p><ul><li>servlet：默认在第一次访问时候创建，创建一次</li><li>action：访问时候创建，每次访问action时候，都会创建action对象，创建多次，多实例对象</li></ul><p><strong>值栈存储位置：</strong></p><ul><li>每次访问action时候，都会创建action对象</li><li>在每个action对象里面只会有一个值栈对象</li></ul><p><img src="/category/Struts2/e4.png" alt="Struts2"></p><h3 id="获取值栈对象"><a href="#获取值栈对象" class="headerlink" title="获取值栈对象"></a>获取值栈对象</h3><p>获取值栈对象有多种方式:<br><strong>（常用方法）使用ActionContext类里面的方法得到值栈对象</strong></p><p><img src="/category/Struts2/e5.png" alt="Struts2"></p><h3 id="值栈的内部结构"><a href="#值栈的内部结构" class="headerlink" title="值栈的内部结构"></a>值栈的内部结构</h3><p>值栈分为两部分：</p><p><img src="/category/Struts2/e6.png" alt="Struts2"></p><ul><li><p>第一部分：root，结构是list集合</p><ul><li>一般操作都是root里面数据</li></ul></li><li><p>第二部分：context，结构是map集合</p><p><img src="/category/Struts2/e7.png" alt="Struts2"></p></li></ul><p>struts2里面的标签：s:debug，使用这个标签可以查看值栈结构和存储值<br>访问action，执行action的方法有返回值，配置返回值到jsp页面中，在jsp页面中使用debug这个标签</p><p>在action没有任何操作，栈顶元素是</p><p><img src="/category/Struts2/e8.png" alt="Struts2"></p><p>action对象里面有值栈对象<br>值栈对象里面有action引用</p><h3 id="向值栈中放数据"><a href="#向值栈中放数据" class="headerlink" title="向值栈中放数据"></a>向值栈中放数据</h3><p>向值栈放数据多种方式：</p><ul><li><p>第一种：获取值栈对象，调用值栈对象里面的set方法</p><p><img src="/category/Struts2/e9.png" alt="Struts2"></p><p><img src="/category/Struts2/e10.png" alt="Struts2"></p></li><li><p>第二种：获取值栈对象，调用值栈对象里面的push方法</p><p><img src="/category/Struts2/e11.png" alt="Struts2"></p><p><img src="/category/Struts2/e12.png" alt="Struts2"></p></li><li><p><strong>第三种：在action定义变量，生成变量的get方法</strong></p><p><img src="/category/Struts2/e13.png" alt="Struts2"></p><p><img src="/category/Struts2/e14.png" alt="Struts2"></p><p><img src="/category/Struts2/e15.png" alt="Struts2"></p></li></ul><h3 id="向值栈放对象"><a href="#向值栈放对象" class="headerlink" title="向值栈放对象"></a>向值栈放对象</h3><p>实现步骤：</p><ol><li>第一步：定义对象变量</li><li>第二步：生成变量的get方法</li><li>第三步：在执行的方法里面向对象中设置值</li></ol><p><img src="/category/Struts2/f1.png" alt="Struts2"></p><p><img src="/category/Struts2/f2.png" alt="Struts2"></p><h3 id="向值栈放list集合"><a href="#向值栈放list集合" class="headerlink" title="向值栈放list集合"></a>向值栈放list集合</h3><ol><li>第一步：定义list集合变量</li><li>第二步：生成变量的get方法</li><li>第三步：在执行的方法里面向list集合设置值</li></ol><p><img src="/category/Struts2/f3.png" alt="Struts2"></p><p><img src="/category/Struts2/f4.png" alt="Struts2"></p><h3 id="从值栈获取数据"><a href="#从值栈获取数据" class="headerlink" title="从值栈获取数据"></a>从值栈获取数据</h3><p>使用struts2的标签+ognl表达式获取值栈数据</p><p><code>&lt;s:property value=&quot;ognl表达式&quot;/&gt;</code></p><p><strong>获取字符串：</strong></p><ol><li><p>第一步：向值栈中放入数据</p><p><img src="/category/Struts2/f5.png" alt="Struts2"></p></li><li><p>第二步：在jsp使用struts2标签+ognl表达式获取</p><p><img src="/category/Struts2/f6.png" alt="Struts2"></p><p><strong>获取list集合：</strong></p></li></ol><ul><li><p>第一种方式：</p><p><img src="/category/Struts2/f7.png" alt="Struts2"></p></li><li><p>第二种方式：</p><p><img src="/category/Struts2/f8.png" alt="Struts2"></p></li><li><p>第三种方式：</p><p><img src="/category/Struts2/f9.png" alt="Struts2"></p></li></ul><h3 id="获取set和push方法设置值"><a href="#获取set和push方法设置值" class="headerlink" title="获取set和push方法设置值"></a>获取set和push方法设置值</h3><p><strong>使用set方法向值栈放数据，获取</strong></p><p><img src="/category/Struts2/g1.png" alt="Struts2"></p><p><img src="/category/Struts2/g2.png" alt="Struts2"></p><p><strong>使用push方法向值栈放数据，获取</strong></p><p><img src="/category/Struts2/g3.png" alt="Struts2"></p><p>使用push方法设置值，没有名称，只有设置的值<br>向值栈放数据，把向值栈放数据存到数组里面，数组名称top，根据数组获取值</p><p><img src="/category/Struts2/g4.png" alt="Struts2"></p><h3 id="el表达式为什么获取值栈数据"><a href="#el表达式为什么获取值栈数据" class="headerlink" title="el表达式为什么获取值栈数据"></a>el表达式为什么获取值栈数据</h3><p><img src="/category/Struts2/g5.png" alt="Struts2"></p><p><img src="/category/Struts2/g6.png" alt="Struts2"></p><p>EL表达式可以获取值栈数据（为什么）：性能不好<br>EL表达式获取域对象值<br>向域对象里面放值使用setAttribute方法，获取值使用getAttribute方法<br>底层增强request对象里面的方法getAttribute方法：<br>首先从request域获取值，如果获取到，直接返回<br>如果从request域获取不到值，到值栈中把值获取出来，把值放到域对象里面<br>查看源代码：</p><p><img src="/category/Struts2/g7.png" alt="Struts2"></p><p><img src="/category/Struts2/g8.png" alt="Struts2"></p><h3 id="OGNL的-、-使用"><a href="#OGNL的-、-使用" class="headerlink" title="OGNL的#、%使用"></a>OGNL的#、%使用</h3><p>使用#获取context里面数据<br>向request域放值</p><p><img src="/category/Struts2/q1.png" alt="Struts2"></p><p>在页面中使用ognl获取</p><p><img src="/category/Struts2/q2.png" alt="Struts2"></p><p><img src="/category/Struts2/q3.png" alt="Struts2"></p><p><strong>%使用：</strong></p><p>在struts2标签中表单标签</p><p>在struts2标签里面使用ognl表达式，如果直接在struts2表单标签里面使用ognl表达式不识别，只有%之后才会识别</p><p><img src="/category/Struts2/q4.png" alt="Struts2"></p><h2 id="拦截器"><a href="#拦截器" class="headerlink" title="拦截器"></a>拦截器</h2><p>struts2是框架，封装了很多功能。struts2里面封装的功能都是在拦截器里面<br>struts2里面封装了很多功能，有很多拦截器，不是每次这些拦截器都执行，每次执行默认的拦截器<br>struts2默认拦截器</p><p><img src="/category/Struts2/q5.png" alt="Struts2"></p><p><img src="/category/Struts2/q6.png" alt="Struts2"></p><p><img src="/category/Struts2/q7.png" alt="Struts2"></p><p><strong>拦截器在什么时候执行？</strong><br>在action对象创建之后，action的方法执行之前</p><h3 id="拦截器底层原理"><a href="#拦截器底层原理" class="headerlink" title="拦截器底层原理"></a>拦截器底层原理</h3><p>拦截器底层使用两个原理<br><strong>aop思想</strong><br>文字描述：</p><blockquote><p>AOP是面向切面（方面）编程，有基本功能，扩展功能，不通过修改源代码方式扩展功能 （底层：动态代理）</p></blockquote><p>画图分析：</p><p><img src="/category/Struts2/q8.png" alt="Struts2"></p><p><strong>责任链模式</strong><br>在java中有很多设计模式，责任链模式是其中的一种<br>责任链模式和过滤链很相似<br>责任链模式：</p><blockquote><p>要执行多个操作，有添加、修改、删除三个操作</p><p>首先执行添加操作，添加操作执行之后做类似于放行操作，执行修改操作，修改操作执行之后做类似于放行操作，执行删除操作</p></blockquote><p>过滤链：一个请求可以有多个过滤器进行过滤，每个过滤器只有做放行才能到下一个过滤器</p><p><img src="/category/Struts2/q9.png" alt="Struts2"></p><p><strong>aop思想和责任链模式如何应用到拦截器里面？</strong><br>文字描述：</p><blockquote><p>拦截器在action对象创建之后，action方法执行之前执行</p><p>在action方法执行之前执行默认拦截器，执行过程使用aop思想，在action并没有直接调用拦截器方法，而是使用配置文件方式进行操作</p><p>执行拦截器时候，执行很多的拦截器，这个过程使用责任链模式</p><p>假如执行三个拦截器，执行拦截器1，执行拦截器1之后做放行操作，执行拦截器2，执行拦截器2之后做放行，执行拦截器3，执行拦截器3之后放行，执行action方法</p></blockquote><p>画图分析</p><p><img src="/category/Struts2/w1.png" alt="Struts2"></p><p>查看源代码：<br>执行action</p><p><img src="/category/Struts2/w2.png" alt="Struts2"></p><p>创建action对象，使用后动态代理方式</p><p><img src="/category/Struts2/w3.png" alt="Struts2"></p><p>执行action的方法</p><p><img src="/category/Struts2/w4.png" alt="Struts2"></p><p>执行很多的拦截器，遍历执行</p><p><img src="/category/Struts2/w5.png" alt="Struts2"></p><p>类似于放行的操作方法</p><p><img src="/category/Struts2/w6.png" alt="Struts2"></p><h3 id="过滤器和拦截器的区别"><a href="#过滤器和拦截器的区别" class="headerlink" title="过滤器和拦截器的区别"></a>过滤器和拦截器的区别</h3><p>过滤器：过滤器理论上可以过滤任意内容，比如html、jsp、servlet、图片路径<br>拦截器：拦截器只可以拦截action</p><h3 id="自定义拦截器"><a href="#自定义拦截器" class="headerlink" title="自定义拦截器"></a>自定义拦截器</h3><p>在struts2里面有很多的拦截器，这些拦截器是struts2封装的功能，但是在实际开发中，struts2里面的拦截器中可以没有要使用的功能，这个时候需要自己写拦截器实现功能</p><p><strong>拦截器结构：</strong><br>查看源代码看拦截器结构：</p><p>继承类:</p><p><img src="/category/Struts2/e1 [2].png" alt="Struts2"></p><p><img src="/category/Struts2/e2 [2].png" alt="Struts2"></p><p>在接口里面有三个方法：</p><p>初始化方法:</p><p><img src="/category/Struts2/e3 [2].png" alt="Struts2"></p><p>销毁：</p><p><img src="/category/Struts2/e4 [2].png" alt="Struts2"></p><p>拦截逻辑的操作：</p><p><img src="/category/Struts2/e5 [2].png" alt="Struts2"></p><p>开发中建议：<br>写类，继承MethodFilterInterceptor实现<br>让action里面的某个方法不进行拦截<br>让拦截器和action有关系<br>不是在action调用拦截器的方法，而是用过配置文件方式让建立关系</p><h3 id="自定义登录拦截器"><a href="#自定义登录拦截器" class="headerlink" title="自定义登录拦截器"></a>自定义登录拦截器</h3><p><img src="/category/Struts2/e6 [2].png" alt="Struts2"></p><p><img src="/category/Struts2/e7 [2].png" alt="Struts2"></p><p><img src="/category/Struts2/e8 [2].png" alt="Struts2"></p><p><img src="/category/Struts2/e9 [2].png" alt="Struts2"></p><p><img src="/category/Struts2/e10 [2].png" alt="Struts2"></p><p><img src="/category/Struts2/e11 [2].png" alt="Struts2"></p><p><img src="/category/Struts2/e12 [2].png" alt="Struts2"></p><h3 id="struts2标签"><a href="#struts2标签" class="headerlink" title="struts2标签"></a>struts2标签</h3><p><img src="/category/Struts2/r1.png" alt="Struts2"></p><p><img src="/category/Struts2/r2.png" alt="Struts2"></p><p><strong>表单标签：</strong></p><p><img src="/category/Struts2/r4.png" alt="Struts2"></p><p><img src="/category/Struts2/r5.png" alt="Struts2"></p></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">----------------本文结束<i class="fa fa-heart"></i>感谢阅读----------------</div></div></div><div><ul class="post-copyright"><li class="post-copyright-author"><strong>本文作者：</strong> Goya</li><li class="post-copyright-link"><strong>本文链接：</strong> <a href="https://www.ysmjjsy.com/category/Struts2/" title="SSH框架-Struts2">https://www.ysmjjsy.com/category/Struts2/</a></li><li class="post-copyright-license"><strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！</li></ul></div><footer class="post-footer"><div class="post-tags"><a href="/tags/SSH框架/" rel="tag"><i class="fa fa-tag"></i> SSH框架</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/category/JavaSE-java8新特性/" rel="next" title="JavaSE-java8新特性"><i class="fa fa-chevron-left"></i> JavaSE-java8新特性</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/category/Spring/" rel="prev" title="SSH框架-Spring">SSH框架-Spring <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article><div class="post-spread"><div class="addthis_inline_share_toolbox"><script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5d44446d8ec752bd" async></script></div></div></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><section class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="Goya"><p class="site-author-name" itemprop="name">Goya</p><p class="site-description motion-element" itemprop="description">愿你走出半生，归来仍是少年</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">35</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/index.html"><span class="site-state-item-count">48</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/index.html"><span class="site-state-item-count">9</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/GoyaDo" target="_blank" title="GitHub"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="https://blog.csdn.net/a773949603" target="_blank" title="CSDN"><i class="fa fa-fw fa-copyright"></i>CSDN</a> </span><span class="links-of-author-item"><a href="https://www.zhihu.com/people/lemondeah/activities" target="_blank" title="知乎"><i class="fa fa-fw fa-zhihu"></i>知乎</a> </span><span class="links-of-author-item"><a href="https://weibo.com/u/6606679478" target="_blank" title="微博"><i class="fa fa-fw fa-weibo"></i>微博</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-block"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://me.csdn.net/sinyu890807" title="郭霖" target="_blank">郭霖</a></li><li class="links-of-blogroll-item"><a href="https://www.zhihu.com/people/huangsunting/activities" title="bravo1988" target="_blank">bravo1988</a></li></ul></div></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Struts2"><span class="nav-number">1.</span> <span class="nav-text">Struts2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Struts简单模型"><span class="nav-number">1.1.</span> <span class="nav-text">Struts简单模型</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Struts2搭建"><span class="nav-number">1.2.</span> <span class="nav-text">Struts2搭建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Struts2基本执行过程"><span class="nav-number">1.3.</span> <span class="nav-text">Struts2基本执行过程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Struts2配置"><span class="nav-number">1.4.</span> <span class="nav-text">Struts2配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#在配置文件中主要三个标签"><span class="nav-number">1.4.1.</span> <span class="nav-text">在配置文件中主要三个标签</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#package"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">package</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#action"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">action</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#result"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">result</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#修改struts2默认常量值"><span class="nav-number">1.4.2.</span> <span class="nav-text">修改struts2默认常量值</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#分模块开发"><span class="nav-number">1.5.</span> <span class="nav-text">分模块开发</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Action的编写方式"><span class="nav-number">1.6.</span> <span class="nav-text">Action的编写方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Action方法访问介绍"><span class="nav-number">1.7.</span> <span class="nav-text">Action方法访问介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#使用method属性"><span class="nav-number">1.7.1.</span> <span class="nav-text">使用method属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用通配符实现"><span class="nav-number">1.7.2.</span> <span class="nav-text">使用通配符实现</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#全局结果页面"><span class="nav-number">1.7.3.</span> <span class="nav-text">全局结果页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#局部结果页面"><span class="nav-number">1.7.4.</span> <span class="nav-text">局部结果页面</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用ActionContext获取表单数据"><span class="nav-number">1.8.</span> <span class="nav-text">使用ActionContext获取表单数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#在Action操作域对象"><span class="nav-number">1.9.</span> <span class="nav-text">在Action操作域对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Struts2封装获取表单数据方式"><span class="nav-number">1.9.1.</span> <span class="nav-text">Struts2封装获取表单数据方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#属性封装："><span class="nav-number">1.9.1.1.</span> <span class="nav-text">属性封装：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模型驱动封装："><span class="nav-number">1.9.1.2.</span> <span class="nav-text">模型驱动封装：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#表达式封装：（会用）"><span class="nav-number">1.9.1.3.</span> <span class="nav-text">表达式封装：（会用）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#比较表达式封装和模型驱动封装"><span class="nav-number">1.9.1.4.</span> <span class="nav-text">比较表达式封装和模型驱动封装</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#封装数据到集合"><span class="nav-number">1.9.2.</span> <span class="nav-text">封装数据到集合</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#封装数据到list集合："><span class="nav-number">1.9.2.1.</span> <span class="nav-text">封装数据到list集合：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#封装到Map集合："><span class="nav-number">1.9.2.2.</span> <span class="nav-text">封装到Map集合：</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OGNL表达式"><span class="nav-number">1.10.</span> <span class="nav-text">OGNL表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#值栈"><span class="nav-number">1.11.</span> <span class="nav-text">值栈</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#获取值栈对象"><span class="nav-number">1.11.1.</span> <span class="nav-text">获取值栈对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#值栈的内部结构"><span class="nav-number">1.11.2.</span> <span class="nav-text">值栈的内部结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#向值栈中放数据"><span class="nav-number">1.11.3.</span> <span class="nav-text">向值栈中放数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#向值栈放对象"><span class="nav-number">1.11.4.</span> <span class="nav-text">向值栈放对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#向值栈放list集合"><span class="nav-number">1.11.5.</span> <span class="nav-text">向值栈放list集合</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#从值栈获取数据"><span class="nav-number">1.11.6.</span> <span class="nav-text">从值栈获取数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#获取set和push方法设置值"><span class="nav-number">1.11.7.</span> <span class="nav-text">获取set和push方法设置值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#el表达式为什么获取值栈数据"><span class="nav-number">1.11.8.</span> <span class="nav-text">el表达式为什么获取值栈数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OGNL的-、-使用"><span class="nav-number">1.11.9.</span> <span class="nav-text">OGNL的#、%使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#拦截器"><span class="nav-number">1.12.</span> <span class="nav-text">拦截器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#拦截器底层原理"><span class="nav-number">1.12.1.</span> <span class="nav-text">拦截器底层原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#过滤器和拦截器的区别"><span class="nav-number">1.12.2.</span> <span class="nav-text">过滤器和拦截器的区别</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义拦截器"><span class="nav-number">1.12.3.</span> <span class="nav-text">自定义拦截器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#自定义登录拦截器"><span class="nav-number">1.12.4.</span> <span class="nav-text">自定义登录拦截器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#struts2标签"><span class="nav-number">1.12.5.</span> <span class="nav-text">struts2标签</span></a></li></ol></li></ol></li></ol></div></div></section><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2019-09-19</span> <span class="with-love"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Goya</span></div><span id="timeDate">载入天数...</span><span id="times">载入时分秒...</span><script>function createtime(){var n=new Date("07/03/2018 14:13:22");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML="网站已运行 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}var now=new Date;setInterval("createtime()",250)</script><div class="busuanzi-count"><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span class="site-uv"><i class="fa fa-user"></i> 网站总访客数 <span class="busuanzi-value" id="busuanzi_value_site_uv"></span> 人次 </span><span class="site-pv"><i class="fa fa-eye"></i> 总访问量 <span class="busuanzi-value" id="busuanzi_value_site_pv"></span> 次</span></div></div></footer></div><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="https://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine/dist/Valine.min.js"></script><script type="text/javascript">var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'BuVPeD8Q1vkGqU4nrrrSUa9y-gzGzoHsz',
        appKey: '0SU6m8Ctovo9j6oHFbNVyHPv',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });</script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var t=$("#local-search-input");t.attr("autocapitalize","none"),t.attr("autocorrect","off"),t.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(t){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(t,e,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:t,dataType:isXml?"xml":"json",async:!0,success:function(t){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():t,r=document.getElementById(e),s=document.getElementById(o),a=function(){var t=r.value.trim().toLowerCase(),e=t.split(/[\s\-]+/);e.length>1&&e.push(t);var o=[];if(t.length>0&&n.forEach(function(n){function r(e,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===t&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(t,e){var o="",n=e.start;return e.hits.forEach(function(e){o+=t.substring(n,e.position);var r=e.position+e.length;o+='<b class="search-keyword">'+t.substring(e.position,r)+"</b>",n=r}),o+=t.substring(n,e.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url),d=[],g=[];if(""!=l&&(e.forEach(function(t){function e(t,e,o){var n=t.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(e=e.toLowerCase(),t=t.toLowerCase());(s=e.indexOf(t,r))>-1;)a.push({position:s,word:t}),r=s+n;return a}d=d.concat(e(t,h,!1)),g=g.concat(e(t,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(t){t.sort(function(t,e){return e.position!==t.position?e.position-t.position:t.word.length-e.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;0>w&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hits.length!==e.hits.length?e.hits.length-t.hits.length:t.start-e.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(t){b+="<a href='"+f+'\'><p class="search-result">'+s(p,t)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===e.length&&""===e[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x" /></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>';else{o.sort(function(t,e){return t.searchTextCount!==e.searchTextCount?e.searchTextCount-t.searchTextCount:t.hitCount!==e.hitCount?e.hitCount-t.hitCount:e.id-t.id});var a='<ul class="search-result-list">';o.forEach(function(t){a+=t.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(t){t.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(t){t.stopPropagation()}),$(document).on("keyup",function(t){var e=27===t.which&&$(".search-popup").is(":visible");e&&onPopupClose()})</script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });</script><script type="text/x-mathjax-config">MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });</script><script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html><script type="text/javascript" src="/js/src/love.js"></script><!-- rebuild by neat -->